/*! For license information please see main.d3bd36e6bbba61f504c8.js.LICENSE.txt */
(()=>{"use strict";var e,n,t,r={1208:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(1601),o=t.n(r),i=t(6314),a=t.n(i)()(o());a.push([e.id,":root {\n  --blue-accent: #2543FF;\n  --soft-white: #F7F7F7;\n  --warm-grey: #B6B5B3;\n  --dark-text: #1a1a1a;\n  --light-text: #6b7280;\n  --border-color: #e5e7eb;\n  --background-grey: #f3f4f6;\n\n  --pop-green: #40FF6B;\n  --pop-chartreuse: #C9FF00;\n  --pop-orange: #FF6D00;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-color: var(--soft-white);\n  color: var(--dark-text);\n}\n\nh1, h2, h3, h4, h5, h6 {\n  font-family: 'Inter', sans-serif;\n  font-weight: 800; /* Heavier weight for headlines */\n  line-height: 1.2;\n  color: var(--dark-text);\n}\n\nh1 { font-size: 2.5rem; }\nh2 { font-size: 2rem; }\nh3 { font-size: 1.5rem; }\nh4 { font-size: 1.25rem; }\n\np {\n  line-height: 1.6;\n  color: var(--light-text);\n  font-weight: 400;\n}\n\nbutton {\n  cursor: pointer;\n  border: none;\n  outline: none;\n  font-family: inherit;\n  font-size: 1rem;\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  transition: all 0.2s ease;\n  font-weight: 600;\n}\n\n/* Remove generic hover effects to be handled by styled-components */\nbutton:hover {\n  transform: none;\n  box-shadow: none;\n}\n\nbutton:active {\n  transform: translateY(1px);\n}\n\n/* Deprecate old button classes */\n.primary-button, .secondary-button { display: none; }\n\n/* Loading spinner improvements */\n.spinner {\n  border: 3px solid var(--border-color);\n  border-top: 3px solid var(--blue-accent);\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  animation: spin 1s linear infinite;\n  margin: 0 auto;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Processing overlay */\n.processing-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.processing-modal {\n  background: white;\n  padding: 2rem;\n  border-radius: 12px;\n  text-align: center;\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);\n}\n\n/* Smooth transitions */\n* {\n  transition: background-color 0.2s, border-color 0.2s, transform 0.2s;\n}\n\n/* Mobile responsiveness */\n@media (max-width: 768px) {\n  h1 { font-size: 2rem; }\n  h2 { font-size: 1.5rem; }\n  h3 { font-size: 1.25rem; }\n  \n  .container {\n    padding: 0 1rem;\n  }\n}",""]);const l=a},1633:(e,n,t)=>{var r,o,i,a,l,c,u,s=t(6540),d=t(5338),f=t(4976),m=t(7767),p=t(7581),h=t(4546),g=t(6749);function b(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var y,v,w,x,E,S,O,k,A,j,C,D,P,z,I,M,B,T,N,F,R,L,_,U,G,Y=p.Ay.header(r||(r=b(["\n  background: white;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.05);\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  border-bottom: 1px solid var(--border-color);\n"]))),H=p.Ay.div(o||(o=b(["\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 1rem 2rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),$=p.Ay.h1(i||(i=b(["\n  font-size: 1.75rem;\n  color: var(--dark-text);\n  font-weight: 900;\n  margin: 0;\n  cursor: pointer;\n"]))),q=p.Ay.nav(a||(a=b(["\n  display: flex;\n  gap: 2rem;\n  \n  @media (max-width: 768px) {\n    display: none;\n  }\n"]))),X=(0,p.Ay)(f.N_)(l||(l=b(["\n  color: ",";\n  text-decoration: none;\n  font-weight: ",";\n  transition: color 0.2s;\n  position: relative;\n  \n  &:hover {\n    color: var(--blue-accent);\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: -4px;\n    left: 0;\n    right: 0;\n    height: 2px;\n    background: var(--blue-accent);\n    transform: ",";\n    transition: transform 0.3s ease;\n  }\n"])),function(e){return e.active?"var(--blue-accent)":"var(--light-text)"},function(e){return e.active?"700":"500"},function(e){return e.active?"scaleX(1)":"scaleX(0)"}),J=p.Ay.div(c||(c=b(["\n  width: 100%;\n  height: 4px;\n  background: var(--border-color);\n  \n  div {\n    height: 100%;\n    background: var(--blue-accent);\n    transition: width 0.3s ease;\n  }\n"]))),W=p.Ay.div(u||(u=b(["\n  display: none;\n  \n  @media (max-width: 768px) {\n    display: block;\n    font-size: 0.875rem;\n    color: #6b7280;\n  }\n"])));function V(){var e=(0,m.zy)(),n=[{path:"/",label:"Upload",value:0},{path:"/layout",label:"Layout",value:25},{path:"/review",label:"Review",value:50},{path:"/checkout",label:"Checkout",value:75}],t=n.find(function(n){return n.path===e.pathname})||n[0],r=n.findIndex(function(n){return n.path===e.pathname})+1;return s.createElement(Y,null,s.createElement(H,null,s.createElement(f.N_,{to:"/",style:{textDecoration:"none"}},s.createElement($,null,"Drawerzen")),s.createElement(q,null,n.map(function(n,t){return s.createElement(X,{key:n.path,to:n.path,active:e.pathname===n.path?1:0},t+1,". ",n.label)})),s.createElement(W,null,"Step ",r," of ",n.length)),s.createElement(J,null,s.createElement("div",{style:{width:"".concat(t.value,"%")}})))}function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function K(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach(function(n){ee(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ee(e,n,t){return(n=function(e){var n=function(e){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Z(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ne(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return te(u,"_invoke",function(t,r,o){var i,l,c,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return i=n,l=0,c=e,f.n=t,a}};function m(t,r){for(l=t,c=r,n=0;!d&&u&&!o&&n<s.length;n++){var o,i=s[n],m=f.p,p=i[2];t>3?(o=p===r)&&(c=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=m&&((o=t<2&&m<i[1])?(l=0,f.v=r,f.n=i[1]):m<p&&(o=t<3||i[0]>r||r>p)&&(i[4]=t,i[5]=r,f.n=p,l=0))}if(o||t>1)return a;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),l=s,c=p;(n=l<2?e:c)||!d;){i||(l?l<3?(l>1&&(f.n=-1),m(l,c)):f.n=c:f.v=c);try{if(u=2,i){if(l||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,l<2&&(l=0)}else 1===l&&(n=i.return)&&n.call(i),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((n=(d=f.n<0)?c:t.call(r,f))!==a)break}catch(n){i=e,l=1,c=n}finally{u=1}}return{value:n,done:d}}}(t,o,i),!0),u}var a={};function l(){}function c(){}function u(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(te(n={},r,function(){return this}),n),d=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,te(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,te(d,"constructor",u),te(u,"constructor",c),c.displayName="GeneratorFunction",te(u,o,"GeneratorFunction"),te(d),te(d,o,"Generator"),te(d,r,function(){return this}),te(d,"toString",function(){return"[object Generator]"}),(ne=function(){return{w:i,m:f}})()}function te(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}te=function(e,n,t,r){if(n)o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t;else{var i=function(n,t){te(e,n,function(e){return this._invoke(n,t,e)})};i("next",0),i("throw",1),i("return",2)}},te(e,n,t,r)}function re(e,n,t,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void t(e)}l.done?n(c):Promise.resolve(c).then(r,o)}function oe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return ie(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ie(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function ae(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var le=p.Ay.div(y||(y=ae(["\n  width: 100%;\n  margin: 0 auto; /* Center the container */\n  padding: ","; /* Standard spacing when expanded */\n  padding-top: ","; /* Standard spacing from nav when expanded */\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: calc(100vh - 80px); /* Fixed height to viewport minus navbar */\n  max-height: calc(100vh - 80px); /* Ensure it never exceeds viewport */\n  box-sizing: border-box;\n  overflow-y: auto; /* Allow scrolling only if absolutely necessary */\n  transition: padding 0.6s ease-in-out;\n  \n  @media (max-width: 768px) {\n    padding: ",";\n    padding-top: ",";\n    height: calc(100vh - 70px);\n    max-height: calc(100vh - 70px);\n  }\n"])),function(e){return e.expanded,"1rem"},function(e){return e.expanded,"1rem"},function(e){return e.expanded,"0.75rem"},function(e){return e.expanded,"0.75rem"}),ce=p.Ay.div(v||(v=ae(["\n  background: white;\n  padding: ","; /* Reduce padding when expanded */\n  border-radius: 16px;\n  box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n  margin-top: ",";\n  width: 100%;\n  max-width: ",";\n  text-align: center;\n  transition: all 0.6s ease-in-out;\n  flex: 1; /* Allow it to grow and shrink within the container */\n  display: flex;\n  flex-direction: column;\n  overflow: hidden; /* Prevent content from spilling out */\n  \n  @media (max-width: 768px) {\n    padding: ",";\n    max-width: 100%;\n  }\n"])),function(e){return e.expanded?"1.5rem":"2.5rem"},function(e){return e.expanded?"0":"2rem"},function(e){return e.expanded?"95%":"800px"},function(e){return e.expanded?"1rem":"1.5rem"}),ue=p.Ay.div(w||(w=ae(["\n  display: flex;\n  gap: 1rem;\n  margin-bottom: 2rem;\n  width: 100%;\n  max-width: 600px; /* Prevent inputs from becoming too wide on large screens */\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0 1rem; /* Standard padding on left and right */\n  box-sizing: border-box;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1.5rem;\n    padding: 0; /* Remove side padding on mobile since card padding handles it */\n    max-width: 100%;\n  }\n"]))),se=p.Ay.div(x||(x=ae(["\n  flex: 1;\n  text-align: left;\n"]))),de=p.Ay.label(E||(E=ae(["\n  display: block;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: #374151;\n"]))),fe=(p.Ay.div(S||(S=ae(["\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n"]))),p.Ay.input(O||(O=ae(["\n  flex: 1;\n  padding: 0.75rem;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 1rem;\n  transition: border-color 0.2s;\n  min-width: 0; /* Allows flex items to shrink below content size */\n  width: 100%;\n  box-sizing: border-box;\n  \n  &:focus {\n    outline: none;\n    border-color: #4f46e5;\n  }\n  \n  @media (max-width: 768px) {\n    min-width: 120px; /* Ensure minimum usable width on mobile */\n  }\n"])))),me=p.Ay.div(k||(k=ae(["\n  display: flex;\n  background: #f3f4f6;\n  border-radius: 8px;\n  padding: 0.25rem;\n  margin-bottom: 2rem;\n  width: 100%;\n  max-width: 300px;\n  margin-left: auto;\n  margin-right: auto;\n  \n  @media (max-width: 768px) {\n    max-width: 250px;\n  }\n"]))),pe=p.Ay.button(A||(A=ae(["\n  flex: 1;\n  padding: 0.5rem 1rem;\n  background: ",";\n  color: ",";\n  border: none;\n  border-radius: 6px;\n  font-weight: 500;\n  transition: all 0.2s;\n  cursor: pointer;\n"])),function(e){return e.active?"#4f46e5":"transparent"},function(e){return e.active?"white":"#6b7280"}),he=p.Ay.button(j||(j=ae(["\n  width: 100%;\n  padding: 1rem;\n  margin-top: ","; /* Reduce margin when expanded */\n  background: #4f46e5;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 1.125rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  flex-shrink: 0; /* Don't let it shrink */\n  \n  &:hover {\n    background: #4338ca;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);\n  }\n  \n  &:disabled {\n    background: #9ca3af;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])),function(e){return e.expanded?"1rem":"2rem"}),ge=(p.Ay.div(C||(C=ae(["\n  margin-top: 2rem;\n  padding: 2rem;\n  background: #f9fafb;\n  border-radius: 8px;\n  border: 2px dashed #e5e7eb;\n"]))),p.Ay.div(D||(D=ae(["\n  width: ","px;\n  height: ","px;\n  margin: 0 auto;\n  background: white;\n  border: 2px solid #4f46e5;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #6b7280;\n  font-size: 0.875rem;\n  transition: all 0.3s ease-in-out;\n"])),function(e){return e.width},function(e){return e.length})),be=(0,p.i7)(P||(P=ae(["\n  0% { background-position: 200% 50%; }\n  50% { background-position: 0% 50%; }\n  100% { background-position: 200% 50%; }\n"]))),ye=((0,p.Ay)(ge)(z||(z=ae(["\n  background: linear-gradient(90deg, #f0f2f5, #e6e8ec, #f0f2f5);\n  background-size: 200% 200%;\n  animation: "," 2s ease infinite; /* Apply the animation here */\n  border-style: dashed;\n  color: transparent;\n"])),be),p.Ay.input(I||(I=ae(["\n  margin-top: 1rem;\n  padding: 0.5rem;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 1rem;\n"]))),p.Ay.div(M||(M=ae(["\n  margin-top: 2rem;\n  text-align: center;\n  padding: 0 1rem; /* Match the InputRow padding */\n  \n  @media (max-width: 768px) {\n    padding: 0; /* Remove side padding on mobile */\n  }\n"])))),ve=p.Ay.label(B||(B=ae(["\n  display: inline-block;\n  padding: 1rem 2rem;\n  background: #4f46e5;\n  color: white;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  font-size: 1rem;\n  transition: all 0.2s;\n  \n  &:hover {\n    background: #4338ca;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);\n  }\n  \n  .desktop-text {\n    display: inline;\n    \n    @media (max-width: 768px) {\n      display: none;\n    }\n  }\n  \n  .mobile-text {\n    display: none;\n    \n    @media (max-width: 768px) {\n      display: inline;\n    }\n  }\n"]))),we=p.Ay.input(T||(T=ae(["\n  display: none;\n"]))),xe=p.Ay.h1(N||(N=ae(["\n  text-align: center;\n  color: #374151;\n  margin-bottom: 0.5rem;\n  font-size: 2.5rem;\n  font-weight: 700;\n  opacity: ",";\n  max-height: ",";\n  overflow: hidden;\n  transition: opacity 0.5s ease-in-out, max-height 0.5s ease-in-out, margin 0.5s ease-in-out;\n  margin-bottom: ",";\n  \n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n"])),function(e){return e.visible?1:0},function(e){return e.visible?"200px":"0"},function(e){return e.visible?"0.5rem":"0"}),Ee=p.Ay.p(F||(F=ae(["\n  text-align: center;\n  color: #6b7280;\n  margin-bottom: 2rem;\n  font-size: 1.125rem;\n  opacity: ",";\n  max-height: ",";\n  overflow: hidden;\n  transition: opacity 0.5s ease-in-out 0.1s, max-height 0.5s ease-in-out 0.1s, margin 0.5s ease-in-out 0.1s;\n  margin-bottom: ",";\n  \n  @media (max-width: 768px) {\n    font-size: 1rem;\n  }\n"])),function(e){return e.visible?1:0},function(e){return e.visible?"100px":"0"},function(e){return e.visible?"2rem":"0"}),Se=p.Ay.div(R||(R=ae(["\n  margin-top: ","; /* Reduce margin when expanded */\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  max-width: ",";\n  flex: 1; /* Allow it to grow within available space */\n  min-height: 0; /* Allow it to shrink */\n  transition: all 0.6s ease-in-out;\n"])),function(e){return e.expanded?"1rem":"2rem"},function(e){return e.expanded?"90vw":"100%"}),Oe=p.Ay.div(L||(L=ae(["\n  position: relative;\n  display: inline-block;\n  max-width: 100%;\n  max-height: ","; /* More conservative height when expanded */\n  border: 2px solid #4f46e5;\n  border-radius: 8px;\n  overflow: hidden;\n  transition: max-height 0.6s ease-in-out;\n  \n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"])),function(e){return e.expanded?"45vh":"300px"}),ke=p.Ay.img(_||(_=ae(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  display: block;\n"]))),Ae=p.Ay.div(U||(U=ae(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  background-image:\n    linear-gradient(to right, rgba(79, 70, 229, 0.3) 1px, transparent 1px),\n    linear-gradient(to bottom, rgba(79, 70, 229, 0.3) 1px, transparent 1px);\n  background-size: ","px ","px;\n"])),function(e){return e.cellSize},function(e){return e.cellSize}),je=p.Ay.div(G||(G=ae(["\n  margin-top: ",";\n  padding: ",";\n  background: #f9fafb;\n  border-radius: 8px;\n  text-align: center;\n  transition: all 0.6s ease-in-out;\n  \n  .grid-stats {\n    display: flex;\n    justify-content: center;\n    gap: ",";\n    margin-top: 0.5rem;\n    flex-wrap: wrap;\n  }\n  \n  .stat {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  \n  .stat-value {\n    font-weight: 600;\n    color: #4f46e5;\n    font-size: ",";\n  }\n  \n  .stat-label {\n    font-size: ",";\n    color: #6b7280;\n  }\n"])),function(e){return e.expanded?"0.5rem":"1rem"},function(e){return e.expanded?"0.75rem":"1rem"},function(e){return e.expanded?"1rem":"2rem"},function(e){return e.expanded?"1rem":"1.1rem"},function(e){return e.expanded?"0.8rem":"0.875rem"});function Ce(e){var n,t,r,o=e.onComplete,i=e.initialDimensions,a=e.dataManager,l=(0,m.Zp)(),c=oe((0,s.useState)("mm"),2),u=c[0],d=c[1],f=oe((0,s.useState)({width:(null==i?void 0:i.width)||"",length:(null==i?void 0:i.length)||"",height:(null==i?void 0:i.height)||""}),2),p=f[0],h=f[1],g=oe((0,s.useState)((null==a||null===(n=a.appData)||void 0===n||null===(n=n.uploadedImage)||void 0===n?void 0:n.url)||null),2),b=g[0],y=g[1],v=oe((0,s.useState)(!1),2),w=v[0],x=v[1],E=b&&p.width&&p.length,S=!E,O=function(){var e,n=(e=ne().m(function e(n){var t,r,o,i;return ne().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!(t=n.target.files[0])){e.n=6;break}if(x(!0),e.p=1,(r=new FileReader).onload=function(){return y(r.result)},r.readAsDataURL(t),!a){e.n=3;break}return e.n=2,a.uploadImage(t);case 2:(o=e.v).success&&y(o.imageUrl);case 3:e.n=5;break;case 4:e.p=4,i=e.v,console.error("Error uploading image:",i);case 5:return e.p=5,x(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}),function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){re(i,r,o,a,l,"next",e)}function l(e){re(i,r,o,a,l,"throw",e)}a(void 0)})});return function(e){return n.apply(this,arguments)}}(),k=function(e,n){var t=Q(Q({},p),{},ee({},e,n));h(t),a&&t.width&&t.length&&t.height&&a.updateDrawerDimensions({width:parseFloat(t.width),length:parseFloat(t.length),height:parseFloat(t.height)})},A=p.width&&p.length&&p.height&&b,j=p.width&&p.length?"inches"===u?{width:25.4*parseFloat(p.width),length:25.4*parseFloat(p.length)}:{width:parseFloat(p.width),length:parseFloat(p.length)}:{width:0,length:0},C=Math.floor(j.width/21),D=Math.floor(j.length/21),P=E?Math.min(600,.75*window.innerWidth):400,z=E?Math.min(300,.4*window.innerHeight):300,I=j.width/j.length;I>1?(r=(t=Math.min(P,j.width*(E?.8:.5)))/I)>z&&(t=(r=z)*I):(t=(r=Math.min(z,j.length*(E?.8:.5)))*I)>P&&(r=(t=P)/I);var M=t/C,B=r/D;return s.createElement(le,{expanded:E},s.createElement(xe,{visible:S},"Setup Your Drawer"),s.createElement(Ee,{visible:S},"Provide dimensions and upload a photo of your drawer."),s.createElement(ce,{expanded:E},s.createElement(me,null,s.createElement(pe,{active:"mm"===u,onClick:function(){return d("mm")}},"Millimeters"),s.createElement(pe,{active:"inches"===u,onClick:function(){return d("inches")}},"Inches")),s.createElement(ue,null,s.createElement(se,null,s.createElement(de,null,"Width (",u,")"),s.createElement(fe,{type:"number",value:p.width,onChange:function(e){return k("width",e.target.value)},placeholder:"mm"===u?"e.g. 400":"e.g. 15.7",min:"mm"===u?"21":"0.83",step:"mm"===u?"1":"0.1"})),s.createElement(se,null,s.createElement(de,null,"Length (",u,")"),s.createElement(fe,{type:"number",value:p.length,onChange:function(e){return k("length",e.target.value)},placeholder:"mm"===u?"e.g. 300":"e.g. 11.8",min:"mm"===u?"21":"0.83",step:"mm"===u?"1":"0.1"})),s.createElement(se,null,s.createElement(de,null,"Height (",u,")"),s.createElement(fe,{type:"number",value:p.height,onChange:function(e){return k("height",e.target.value)},placeholder:"mm"===u?"e.g. 50":"e.g. 2.0",min:"0",step:"mm"===u?"1":"0.1"}))),s.createElement(ye,null,s.createElement(ve,{htmlFor:"image-upload"},s.createElement("span",{className:"desktop-text"},w?"Uploading...":"Upload Photo"),s.createElement("span",{className:"mobile-text"},"Upload Photo or Take Picture")),s.createElement(we,{id:"image-upload",type:"file",accept:"image/*",capture:"environment",onChange:O})),b&&p.width&&p.length&&s.createElement(Se,{expanded:E},s.createElement(Oe,{expanded:E},s.createElement(ke,{src:b,alt:"Drawer",style:{width:t,height:r}}),s.createElement(Ae,{cellSize:M,style:{backgroundSize:"".concat(M,"px ").concat(B,"px")}})),s.createElement(je,{expanded:E},s.createElement("div",null,"Grid overlay shows 42mm cells. Bins can be placed with 21mm precision."),s.createElement("div",{className:"grid-stats"},s.createElement("div",{className:"stat"},s.createElement("div",{className:"stat-value"},C," × ",D),s.createElement("div",{className:"stat-label"},"42mm Grid Cells")),s.createElement("div",{className:"stat"},s.createElement("div",{className:"stat-value"},(j.width/1e3).toFixed(2),"m × ",(j.length/1e3).toFixed(2),"m"),s.createElement("div",{className:"stat-label"},"Actual Size")),s.createElement("div",{className:"stat"},s.createElement("div",{className:"stat-value"},(j.width*j.length/1e6).toFixed(3),"m²"),s.createElement("div",{className:"stat-label"},"Area"))))),s.createElement(he,{expanded:E,onClick:function(){var e;(e="inches"===u?{width:25.4*parseFloat(p.width),length:25.4*parseFloat(p.length),height:25.4*parseFloat(p.height),unit:"mm"}:{width:parseFloat(p.width),length:parseFloat(p.length),height:parseFloat(p.height),unit:"mm"}).width<21||e.length<21||e.height<0?alert("Drawer dimensions must be at least 21mm wide and deep."):(o(Q(Q({},e),{},{image:b})),l("/layout"))},disabled:!A},"Continue to Layout")))}var De,Pe,ze,Ie,Me,Be,Te,Ne,Fe,Re,Le,_e,Ue,Ge,Ye,He,$e,qe,Xe,Je,We,Ve,Ze=t(5079),Ke=t(3829),Qe=21,en=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"],nn=[{width:168,length:168},{width:147,length:147},{width:126,length:126},{width:105,length:105},{width:84,length:168},{width:84,length:147},{width:84,length:126},{width:84,length:105},{width:84,length:84},{width:63,length:147},{width:63,length:126},{width:63,length:105},{width:63,length:84},{width:63,length:63},{width:42,length:168},{width:42,length:147},{width:42,length:126},{width:42,length:105},{width:42,length:84},{width:42,length:63},{width:42,length:42},{width:21,length:168},{width:21,length:147},{width:21,length:126},{width:21,length:105},{width:21,length:84},{width:21,length:63},{width:21,length:42}];function tn(e){if(!e||!e.width||!e.length)return 0;var n=Math.ceil(e.width/Qe)*Math.ceil(e.length/Qe),t=.1;e.height>Qe&&(t*=1+(e.height-Qe)/Qe*.5);var r=0;return e.shadowBoard&&(r=.11*n),Math.round(100*(n*t+r))/100}function rn(e){if(!e||!e.width||!e.length)return 0;var n=Math.floor(e.width/Qe)*Math.floor(e.length/Qe);return Math.round(.02*n*100)/100}function on(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var an=p.Ay.div(De||(De=on(["\n  width: 100%;\n  height: calc(100vh - 80px); /* Full viewport minus navbar height */\n  display: flex;\n  flex-direction: column;\n  gap: 1rem; /* Common spacing between carousel and grid */\n  padding: 1rem; /* Add consistent padding */\n  margin: 0;\n  box-sizing: border-box;\n  overflow: hidden;\n  \n  * {\n    box-sizing: border-box;\n  }\n  \n  @media (max-width: 768px) {\n    height: calc(100vh - 70px); /* Adjusted for mobile navbar */\n    padding: 0.75rem; /* Slightly less padding on mobile */\n    gap: 0.75rem; /* Slightly less gap on mobile */\n  }\n"]))),ln=p.Ay.div(Pe||(Pe=on(["\n  background: white;\n  padding: 0; /* Remove padding to prevent bin cutoff */\n  border-radius: 12px;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n  overflow: hidden; /* Remove scroll bars */\n  flex-shrink: 0;\n  height: calc(12vh - 20px); /* Reduced height to fit better */\n  width: 100%; /* Use full width within container */\n  border: ",";\n  background: ",";\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  \n  /* Dynamic pattern when ready for drop */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: ",";\n    border-radius: 12px;\n    pointer-events: none;\n    opacity: ",";\n    transition: opacity 0.3s ease;\n    animation: ",";\n  }\n  \n  @keyframes movePattern {\n    0% { background-position: 0 0; }\n    100% { background-position: 28px 28px; }\n  }\n  \n  @media (max-width: 768px) {\n    padding: 0; /* Remove padding for mobile too */\n    height: calc(10vh - 15px); /* Reduced height for mobile */\n  }\n  \n  h3 {\n    margin: 0 0 0.5rem 0;\n    font-size: 0.9rem;\n    transition: opacity 0.6s ease-in-out, max-height 0.6s ease-in-out;\n    position: relative;\n    z-index: 1;\n    \n    @media (max-width: 768px) {\n      font-size: 0.8rem;\n      margin: 0 0 0.5rem 0;\n    }\n  }\n"])),function(e){return e.isCarouselDropTarget?"2px dashed #4f46e5":"2px solid transparent"},function(e){return e.isCarouselDropTarget?"#f0f9ff":"white"},function(e){return e.isCarouselDropTarget?"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(79, 70, 229, 0.1) 10px, rgba(79, 70, 229, 0.1) 20px)":"none"},function(e){return e.isCarouselDropTarget?1:0},function(e){return e.isCarouselDropTarget?"movePattern 2s linear infinite":"none"}),cn=p.Ay.div(ze||(ze=on(["\n  display: flex;\n  gap: 0.75rem; /* Increased gap for better spacing */\n  min-width: min-content;\n  padding: 0 1rem 0.5rem 1rem; /* Add horizontal and bottom padding */\n  justify-content: ","; /* Always center */\n  align-items: center; /* Center align the square bins */\n  flex: 1; /* Take remaining space after header */\n  overflow: hidden; /* Prevent overflow */\n  flex-wrap: wrap; /* Allow wrapping if needed */\n  position: relative;\n  z-index: 1;\n  \n  @media (max-width: 768px) {\n    padding: 0 0.75rem 0.5rem 0.75rem; /* Adjust padding for mobile */\n  }\n  \n  /* Empty state message styling */\n  p {\n    transition: opacity 0.6s ease-in-out, max-height 0.6s ease-in-out;\n    max-height: ",";\n    opacity: ",";\n    overflow: hidden;\n  }\n"])),function(e){return e.hasBins,"center"},function(e){return e.hasBins?"0":"2rem"},function(e){return e.hasBins?0:1}),un=p.Ay.h3(Ie||(Ie=on(["\n  margin: 0 0 0.5rem 0;\n  font-size: 0.9rem;\n  transition: opacity 0.6s ease-in-out, max-height 0.6s ease-in-out;\n  position: relative;\n  z-index: 1;\n  max-height: ",";\n  opacity: ",";\n  overflow: hidden;\n  padding: 0.5rem 1rem 0 1rem; /* Add padding for text spacing */\n  \n  @media (max-width: 768px) {\n    font-size: 0.8rem;\n    margin: 0 0 0.5rem 0;\n    padding: 0.5rem 0.75rem 0 0.75rem; /* Adjust padding for mobile */\n  }\n"])),function(e){return e.hasBins?"0":"2rem"},function(e){return e.hasBins?0:1}),sn=p.Ay.div(Me||(Me=on(["\n  background: white;\n  padding: 1rem;\n  border-radius: 12px;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n  flex: 1; /* Take remaining space after carousel */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  min-height: 0;\n  width: 100%; /* Use full width within container */\n  box-sizing: border-box;\n  \n  @media (max-width: 768px) {\n    padding: 0.75rem;\n  }\n"]))),dn=p.Ay.div(Be||(Be=on(["\n  display: flex;\n  flex-direction: column;\n  overflow: visible; /* Allow buttons to show outside grid */\n  min-width: 0;\n  position: relative;\n  align-items: center;\n"]))),fn=p.Ay.div(Te||(Te=on(["\n  display: flex;\n  position: relative;\n  align-items: flex-start;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  overflow: visible; /* Allow buttons to show outside */\n"]))),mn=p.Ay.div(Ne||(Ne=on(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 100%;\n  overflow: visible; /* Allow buttons to show outside */\n  flex: 1;\n"]))),pn=p.Ay.div(Fe||(Fe=on(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  flex-shrink: 0;\n  width: 140px;\n  position: absolute;\n  left: -160px; /* Position to the left of the grid */\n  top: 0;\n  z-index: 20;\n  \n  @media (max-width: 768px) {\n    width: 120px;\n    gap: 0.5rem;\n    left: -140px;\n  }\n"]))),hn=p.Ay.div(Re||(Re=on(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 1rem;\n  background: #f8fafc;\n  border-radius: 8px;\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  max-height: 100%;\n  overflow: visible; /* Allow action buttons to show outside */\n  position: relative; /* For positioning action buttons */\n  box-sizing: border-box;\n"]))),gn=p.Ay.div(Le||(Le=on(["\n  /* Unified bounding box using explicit width and height */\n  width: ","px;\n  height: ","px;\n  position: relative;\n  border: 2px solid #e2e8f0;\n  border-radius: 4px;\n  background: #ffffff;\n  overflow: hidden;\n  box-sizing: border-box;\n"])),function(e){return e.width},function(e){return e.height}),bn=p.Ay.div(_e||(_e=on(["\n  display: grid;\n  grid-template-columns: repeat(",", ","px);\n  grid-template-rows: repeat(",", ","px);\n  gap: 0px;\n  background: #e2e8f0;\n  padding: 0px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border-top: 1px solid #e2e8f0;\n  border-left: 1px solid #e2e8f0;\n  box-sizing: border-box;\n  \n  canvas {\n    width: 100% !important;\n    height: 100% !important;\n    min-width: unset !important;\n  }\n"])),function(e){return e.cols},function(e){return e.cellSize},function(e){return e.rows},function(e){return e.cellSize}),yn=p.Ay.div(Ue||(Ue=on(["\n  background: #f8fafc;\n  width: ","px;\n  height: ","px;\n  position: relative;\n  pointer-events: none; /* Don't interfere with drag and drop */\n  box-sizing: border-box;\n  \n  /* Create borders without overlapping - only right and bottom borders */\n  border-right: 1px solid #e2e8f0;\n  border-bottom: 1px solid #e2e8f0;\n  \n  /* Emphasis borders every 42mm (every 2 cells) */\n  border-top: ",";\n  border-left: ",";\n  \n  &:hover {\n    background: #f1f5f9;\n  }\n"])),function(e){return e.cellSize},function(e){return e.cellSize},function(e){return e.hasTopEmphasis?"2px solid #94a3b8":"none"},function(e){return e.hasLeftEmphasis?"2px solid #94a3b8":"none"}),vn=p.Ay.div(Ge||(Ge=on(["\n  position: absolute;\n  background: ",";\n  color: white;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  font-size: 0.75rem;\n  cursor: ",";\n  transition: all 0.2s;\n  z-index: 15;\n  border: 2px solid ",";\n  opacity: ",";\n  transform: ",";\n  pointer-events: auto;\n  \n  &:hover {\n    transform: ",";\n    box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n  }\n  \n  ","\n"])),function(e){return e.color||"#3b82f6"},function(e){return e.isDragging?"grabbing":"grab"},function(e){var n=(e.color||"#3b82f6").replace("#",""),t=Math.max(0,parseInt(n.substr(0,2),16)-40),r=Math.max(0,parseInt(n.substr(2,2),16)-40),o=Math.max(0,parseInt(n.substr(4,2),16)-40);return"rgb(".concat(t,", ").concat(r,", ").concat(o,")")},function(e){return e.isDragging?.6:1},function(e){return e.isDragging?"scale(1.05)":"scale(1)"},function(e){return e.isDragging?"scale(1.05)":"scale(1.02)"},function(e){return e.selected&&"\n    border-color: #fbbf24;\n    box-shadow: 0 0 0 2px #fbbf24;\n  "}),wn=p.Ay.button(Ye||(Ye=on(["\n  padding: 0.625rem 1rem;\n  background: #4f46e5;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  white-space: nowrap;\n  min-width: 0;\n  width: 100%;\n  font-size: 0.8rem;\n  \n  &:hover:not(:disabled) {\n    background: #4338ca;\n    transform: translateY(-1px);\n  }\n  \n  &:disabled {\n    background: #9ca3af;\n    cursor: not-allowed;\n    transform: none;\n  }\n  \n  @media (max-width: 768px) {\n    padding: 0.5rem 0.75rem;\n    font-size: 0.75rem;\n  }\n"]))),xn=p.Ay.button(He||(He=on(["\n  padding: 0.625rem 1rem;\n  background: white;\n  color: #4f46e5;\n  border: 2px solid #4f46e5;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  white-space: nowrap;\n  min-width: 0;\n  width: 100%;\n  font-size: 0.8rem;\n  \n  &:hover {\n    background: #4f46e5;\n    color: white;\n    transform: translateY(-1px);\n  }\n  \n  @media (max-width: 768px) {\n    padding: 0.5rem 0.75rem;\n    font-size: 0.75rem;\n  }\n"]))),En=p.Ay.div($e||($e=on(["\n  position: absolute;\n  border: 2px dashed #4f46e5;\n  background: rgba(79, 70, 229, 0.1);\n  pointer-events: none;\n  z-index: 8;\n  border-radius: 2px;\n  \n  ","\n"])),function(e){return e.error&&"\n    border-color: #ef4444;\n    background: rgba(239, 68, 68, 0.1);\n  "}),Sn=p.Ay.div(qe||(qe=on(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 5;\n  cursor: crosshair;\n  pointer-events: auto;\n"]))),On=p.Ay.div(Xe||(Xe=on(["\n  position: absolute;\n  border: 2px dashed #10b981;\n  background: rgba(16, 185, 129, 0.15);\n  pointer-events: none;\n  z-index: 10;\n  border-radius: 4px;\n  opacity: ",";\n  transition: opacity 0.2s ease;\n  \n  ","\n"])),function(e){return e.visible?1:0},function(e){return e.error&&"\n    border-color: #ef4444;\n    background: rgba(239, 68, 68, 0.15);\n  "}),kn=p.Ay.div(Je||(Je=on(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: #fee2e2;\n  color: #dc2626;\n  padding: 1rem 1.5rem;\n  border-radius: 8px;\n  border: 1px solid #fecaca;\n  z-index: 1000;\n  font-weight: 500;\n  box-shadow: 0 10px 25px rgba(0,0,0,0.1);\n  animation: centerFadeIn 0.3s ease-out;\n  \n  @keyframes centerFadeIn {\n    from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }\n    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }\n  }\n"]))),An=p.Ay.div(We||(We=on(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: #fef3c7;\n  color: #92400e;\n  padding: 1rem 1.5rem;\n  border-radius: 8px;\n  border: 1px solid #fde68a;\n  z-index: 1000;\n  font-weight: 500;\n  box-shadow: 0 10px 25px rgba(0,0,0,0.1);\n  animation: centerFadeIn 0.3s ease-out, centerFadeOut 0.3s ease-out 2.7s forwards;\n  \n  @keyframes centerFadeIn {\n    from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }\n    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }\n  }\n  \n  @keyframes centerFadeOut {\n    to { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }\n  }\n"]))),jn=p.Ay.p(Ve||(Ve=on(["\n  text-align: center;\n  margin-top: 0.125rem;\n  margin-bottom: 0;\n  color: #6b7280;\n  font-size: 0.65rem;\n  max-width: 100%;\n  word-wrap: break-word;\n  padding: 0 0.5rem;\n  line-height: 1.1;\n  height: 1rem;\n  overflow: hidden;\n"])));function Cn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return Dn(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Dn(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function Pn(e){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(e)}function zn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function In(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zn(Object(t),!0).forEach(function(n){Mn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zn(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Mn(e,n,t){return(n=function(e){var n=function(e){if("object"!=Pn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Pn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pn(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Bn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||Tn(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,n){if(e){if("string"==typeof e)return Nn(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Nn(e,n):void 0}}function Nn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function Fn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||Rn(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,n){if(e){if("string"==typeof e)return Ln(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ln(e,n):void 0}}function Ln(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function Un(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Gn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Un(Object(t),!0).forEach(function(n){Yn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Un(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Yn(e,n,t){return(n=function(e){var n=function(e){if("object"!=_n(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=_n(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_n(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Hn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return $n(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$n(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function Xn(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Zn(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}function Jn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Wn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Jn(Object(t),!0).forEach(function(n){Vn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jn(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Vn(e,n,t){return(n=et(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Zn(e,n){if(e){if("string"==typeof e)return Kn(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Kn(e,n):void 0}}function Kn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function Qn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,et(r.key),r)}}function et(e){var n=function(e){if("object"!=qn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=qn(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qn(n)?n:n+""}var nt=function(){return e=function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"sortBinsByArea",value:function(e){return function(e){return function(e){if(Array.isArray(e))return Kn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e).sort(function(e,n){return n.width*n.length-e.width*e.length})}},{key:"findBestPosition",value:function(e,n,t,r){for(var o=function(e){return r.some(function(n){var t=e.x+e.width,r=e.y+e.length,o=n.x+n.width,i=n.y+n.length;return!(t<=n.x||e.x>=o||r<=n.y||e.y>=i)})},i=0;i<=21*t-e.length;i+=21)for(var a=0;a<=21*n-e.width;a+=21)if(!o(Wn(Wn({},e),{},{x:a,y:i})))return{x:a,y:i};return null}},{key:"autoSortBins",value:function(e,n,t){if(0===e.length)return[];var r,o=[],i=[],a=Xn(this.sortBinsByArea(e));try{for(a.s();!(r=a.n()).done;){var l=r.value,c=this.findBestPosition(l,n,t,o);c?o.push(Wn(Wn({},l),{},{x:c.x,y:c.y})):i.push(l)}}catch(e){a.e(e)}finally{a.f()}return{placedBins:o,unplacedBins:i}}},{key:"calculateOptimalSpacing",value:function(e,n,t){var r=e.reduce(function(e,n){return e+n.width*n.length},0),o=21*n*(21*t),i=r/o*100;return{totalBinArea:r,totalGridArea:o,utilization:Math.round(100*i)/100,availableSpace:o-r}}},{key:"findLargestGap",value:function(e,n,t){var r=Array(n).fill().map(function(){return Array(e).fill(!1)});t.forEach(function(t){for(var o=Math.floor(t.x/21),i=Math.floor(t.y/21),a=Math.ceil(t.width/21),l=Math.ceil(t.length/21),c=i;c<i+l&&c<n;c++)for(var u=o;u<o+a&&u<e;u++)c>=0&&u>=0&&(r[c][u]=!0)});for(var o={x:0,y:0,width:0,height:0,area:0},i=0;i<n;i++)for(var a=0;a<e;a++)if(!r[i][a]){var l=this.findLargestRectangle(r,a,i,e,n);l.area>o.area&&(o=l)}return o}},{key:"findAllGaps",value:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=Array(n).fill().map(function(){return Array(e).fill(!1)});t.forEach(function(t){for(var r=Math.floor(t.x/21),i=Math.floor(t.y/21),a=Math.ceil(t.width/21),l=Math.ceil(t.length/21),c=i;c<i+l&&c<n;c++)for(var u=r;u<r+a&&u<e;u++)c>=0&&u>=0&&(o[c][u]=!0)});for(var i=[],a=Array(n).fill().map(function(){return Array(e).fill(!1)}),l=0;l<n;l++)for(var c=0;c<e;c++)if(!o[l][c]&&!a[l][c]){var u=this.findLargestRectangle(o,c,l,e,n);if(u.area>=r){i.push(u);for(var s=u.y;s<u.y+u.height;s++)for(var d=u.x;d<u.x+u.width;d++)s<n&&d<e&&(a[s][d]=!0)}else a[l][c]=!0}return i.sort(function(e,n){return n.area-e.area})}},{key:"findLargestRectangle",value:function(e,n,t,r,o){for(var i=0,a={x:n,y:t,width:0,height:0,area:0},l=1;t+l<=o;l++){for(var c=0,u=1;n+u<=r;u++){for(var s=!0,d=t;d<t+l;d++)if(e[d][n+u-1]){s=!1;break}if(!s)break;c=u}var f=c*l;if(f>i&&(i=f,a={x:n,y:t,width:c,height:l,area:f}),0===c)break}return a}},{key:"checkValidPlacement",value:function(e,n,t,r){var o=e.x+e.width,i=e.y+e.length,a=21*t,l=21*r;if(e.x<0||e.y<0||o>a||i>l)return!1;var c,u=Xn(n);try{for(u.s();!(c=u.n()).done;){var s=c.value,d=s.x+s.width,f=s.y+s.length;if(!(o<=s.x||e.x>=d||i<=s.y||e.y>=f))return!1}}catch(e){u.e(e)}finally{u.f()}return!0}}],null&&Qn(e.prototype,null),n&&Qn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();const tt=function(e){var n=e.onAutoSort,t=e.onGenerateBins,r=e.onReset,o=e.onReview,i=e.hasPlacedBins;return s.createElement(pn,null,s.createElement(wn,{onClick:n,disabled:!i},"Auto Sort"),s.createElement(wn,{onClick:t},"Generate Bins"),s.createElement(xn,{onClick:r,disabled:!i},"Reset"),s.createElement(wn,{onClick:o,disabled:!i},"Review Order"))};var rt=t(8410);function ot(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const it=function(e){var n,t,r=e.bin,o=e.cellSize,i=e.selected,a=e.isDragging,l=e.onClick,c=e.onDoubleClick,u=e.onDragStart,d=e.onDragEnd,f=(n=(0,rt.i)({type:"placed-bin",item:function(){return u(),{bin:r,placedBinId:r.id,fromGrid:!0}},collect:function(e){return{isDragging:e.isDragging()}},end:function(){return d()}}),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(n,t)||function(e,n){if(e){if("string"==typeof e)return ot(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ot(e,n):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=f[0].isDragging,p=f[1];return s.createElement(vn,{ref:p,style:{left:r.x/21*o,top:r.y/21*o,width:r.width/21*o,height:(r.length||r.height)/21*o},color:r.color,selected:i,isDragging:a||m,onClick:l,onDoubleClick:c},r.label)};var at=(0,s.forwardRef)(function(e,n){var t=e.gridCols,r=e.gridRows,o=e.cellSize,i=e.placedBins,a=e.selectedBin,l=e.onBinClick,c=e.onBinDoubleClick,u=e.draggedBin,d=e.onDragStart,f=e.onDragEnd,m=e.dropShadow,p=(e.onGridHover,e.onGridDrop,e.drawingContainerRef),h=e.isDrawing,g=e.drawingPreview,b=e.onMouseDown,y=e.onMouseMove,v=e.onMouseUp;return s.createElement(bn,{cols:t,rows:r,cellSize:o,ref:function(e){p&&(p.current=e),n&&n(e)},"data-grid":"true"},Array.from({length:r*t},function(e,n){var r=Math.floor(n/t)%2==0,i=n%t%2==0;return s.createElement(yn,{key:n,cellSize:o,hasTopEmphasis:r,hasLeftEmphasis:i})}),s.createElement(Sn,{onMouseDown:u?void 0:b,onMouseMove:u?void 0:y,onMouseUp:u?void 0:v,style:{pointerEvents:u?"none":"auto"}}),h&&g&&s.createElement(En,{style:{left:g.left,top:g.top,width:g.width,height:g.height},error:g.hasError}),m&&s.createElement(On,{style:{left:m.left,top:m.top,width:m.width,height:m.height},visible:m.visible,error:m.error}),i.map(function(e){return s.createElement(it,{key:e.id,bin:e,cellSize:o,selected:(null==a?void 0:a.id)===e.id,isDragging:(null==u?void 0:u.id)===e.id,onClick:function(){return l(e)},onDoubleClick:function(){return c(e)},onDragStart:function(){return d(e)},onDragEnd:f})}))});at.displayName="BinGrid";const lt=at;var ct,ut,st,dt,ft,mt=t(937);function pt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function ht(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var gt=p.Ay.div(ct||(ct=ht(["\n  background: ",";\n  border-radius: 8px;\n  cursor: move;\n  transition: all 0.2s ease-in-out;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  position: relative;\n  overflow: hidden;\n\n  ","\n\n  ","\n"])),function(e){return e.color},function(e){return e.isDragging&&(0,p.AH)(ut||(ut=ht(["\n    opacity: 0.5;\n    transform: scale(1.05);\n  "])))},function(e){return"carousel"===e.mode&&(0,p.AH)(st||(st=ht(["\n    min-width: 60px;\n    width: 60px;\n    height: 60px;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n    &:hover {\n      transform: translateY(-4px);\n      box-shadow: 0 8px 20px rgba(0,0,0,0.15);\n    }\n  "])))}),bt=p.Ay.div(dt||(dt=ht(["\n  font-size: ",";\n  text-shadow: 0 2px 4px rgba(0,0,0,0.2);\n  margin-bottom: ",";\n"])),function(e){return"carousel"===e.mode?"1.2rem":"2.5rem"},function(e){return"carousel"===e.mode?"2px":"0"}),yt=p.Ay.div(ft||(ft=ht(["\n  font-family: 'Space Mono', monospace;\n  font-size: ",";\n  background: rgba(0,0,0,0.2);\n  padding: ",";\n  border-radius: 4px;\n  position: ",";\n  bottom: ",";\n  right: ",";\n  text-align: center;\n  font-weight: 600;\n"])),function(e){return"carousel"===e.mode?"0.6rem":"0.7rem"},function(e){return"carousel"===e.mode?"1px 3px":"2px 6px"},function(e){return"carousel"===e.mode?"static":"absolute"},function(e){return"carousel"===e.mode?"auto":"8px"},function(e){return"carousel"===e.mode?"auto":"8px"});function vt(e){var n,t,r,o=e.bin,i=e.mode,a=void 0===i?"grid":i,l=e.placedBinId,c=(t=(0,rt.i)({type:"bin",item:{bin:o,placedBinId:l,mode:a},collect:function(e){return{isDragging:e.isDragging()}}}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,r)||function(e,n){if(e){if("string"==typeof e)return pt(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?pt(e,n):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0].isDragging,d=c[1],f=Math.round(o.width/Qe),m=Math.round(o.length/Qe),p="carousel"===a?"".concat(f,"×").concat(m):"".concat(o.width,"×").concat(o.length);return s.createElement(gt,{ref:d,isDragging:u,color:o.color||"#B6B5B3",mode:a},s.createElement(bt,{mode:a},(n=o.label).toLowerCase().includes("utensil")?s.createElement(mt.xBk,null):n.toLowerCase().includes("cable")?s.createElement(mt.O2x,null):s.createElement(mt.rrY,null)),s.createElement(yt,{mode:a},p))}var wt,xt,Et,St,Ot,kt,At,jt,Ct,Dt,Pt,zt,It,Mt,Bt,Tt,Nt,Ft,Rt,Lt,_t,Ut,Gt,Yt,Ht,$t=t(3560),qt=t(4094),Xt=t(7694);function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function Wt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Vt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wt(Object(t),!0).forEach(function(n){Zt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Zt(e,n,t){return(n=function(e){var n=function(e){if("object"!=Jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Jt(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jt(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Kt(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return Qt(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Qt(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function er(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var nr,tr,rr,or,ir,ar,lr,cr,ur,sr,dr,fr,mr,pr,hr,gr,br,yr,vr,wr,xr=[{name:"Blue",value:en[0]},{name:"Red",value:en[1]},{name:"Green",value:en[2]},{name:"Yellow",value:en[3]},{name:"Purple",value:en[4]},{name:"Pink",value:en[5]}],Er=p.Ay.div(wt||(wt=er(["\n  width: ",";\n  height: 100%;\n  background: #fff;\n  box-shadow: ",";\n  z-index: 50;\n  display: flex;\n  flex-direction: column;\n  transition: all 0.3s cubic-bezier(.4,0,.2,1);\n  border-left: ",";\n  overflow: ",";\n  flex-shrink: 0;\n  border-radius: 8px 0 0 8px;\n  opacity: ",";\n  visibility: ",";\n"])),function(e){return e.open?"320px":"0px"},function(e){return e.open?"-2px 0 12px rgba(0,0,0,0.08)":"none"},function(e){return e.open?"1px solid #e5e7eb":"none"},function(e){return e.open?"visible":"hidden"},function(e){return e.open?1:0},function(e){return e.open?"visible":"hidden"}),Sr=p.Ay.div(xt||(xt=er(["\n  padding: 1.5rem 1.5rem 1rem;\n  border-bottom: 1px solid #e5e7eb;\n  background: #f9fafb;\n  opacity: ",";\n  transition: opacity 0.3s ease;\n"])),function(e){return e.open?1:0}),Or=p.Ay.input(Et||(Et=er(["\n  font-weight: 700;\n  font-size: 1.25rem;\n  background: transparent;\n  border: 2px solid transparent;\n  outline: none;\n  color: #1f2937;\n  width: 100%;\n  padding: 0.5rem;\n  border-radius: 8px;\n  transition: all 0.2s;\n  \n  &:focus {\n    background: #fff;\n    border-color: #4f46e5;\n    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);\n  }\n  \n  &:hover {\n    background: #fff;\n  }\n"]))),kr=p.Ay.div(St||(St=er(["\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: #4f46e5;\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: #eef2ff;\n  border-radius: 6px;\n  text-align: center;\n"]))),Ar=p.Ay.div(Ot||(Ot=er(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 0;\n  opacity: ",";\n  transition: opacity 0.3s ease;\n"])),function(e){return e.open?1:0}),jr=p.Ay.div(kt||(kt=er(["\n  padding: 1.5rem;\n  border-bottom: 1px solid #e5e7eb;\n"]))),Cr=p.Ay.h3(At||(At=er(["\n  margin: 0 0 1rem 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #374151;\n"]))),Dr=p.Ay.div(jt||(jt=er(["\n  width: 100%;\n  height: 200px;\n  border: 2px solid #e5e7eb;\n  border-radius: 12px;\n  overflow: hidden;\n  background: #f9fafb;\n"]))),Pr=p.Ay.div(Ct||(Ct=er(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n"]))),zr=p.Ay.div(Dt||(Dt=er(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  padding: 0.75rem;\n  border-radius: 8px;\n  \n  &:hover {\n    background: #f3f4f6;\n  }\n"]))),Ir=p.Ay.div(Pt||(Pt=er(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: ",";\n  border: 3px solid ",";\n  box-shadow: ",";\n  transition: all 0.2s;\n  margin-bottom: 0.5rem;\n"])),function(e){return e.color},function(e){return e.selected?"#4f46e5":"#e5e7eb"},function(e){return e.selected?"0 0 0 2px rgba(79, 70, 229, 0.2)":"none"}),Mr=p.Ay.span(zt||(zt=er(["\n  font-size: 0.75rem;\n  font-weight: 500;\n  color: #6b7280;\n  text-align: center;\n"]))),Br=(p.Ay.div(It||(It=er(["\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n"]))),p.Ay.label(Mt||(Mt=er(["\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  cursor: pointer;\n  padding: 1rem;\n  border-radius: 8px;\n  border: 2px solid ",";\n  background: ",";\n  transition: all 0.2s;\n  \n  &:hover {\n    border-color: #4f46e5;\n  }\n"])),function(e){return e.checked?"#4f46e5":"#e5e7eb"},function(e){return e.checked?"#eef2ff":"#fff"})),Tr=p.Ay.input(Bt||(Bt=er(["\n  width: 18px;\n  height: 18px;\n  accent-color: #4f46e5;\n"]))),Nr=p.Ay.span(Tt||(Tt=er(["\n  font-weight: 500;\n  color: #374151;\n  flex: 1;\n"]))),Fr=p.Ay.div(Nt||(Nt=er(["\n  font-size: 0.875rem;\n  color: #6b7280;\n  margin-top: 0.5rem;\n"]))),Rr=p.Ay.div(Ft||(Ft=er(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n"]))),Lr=p.Ay.input(Rt||(Rt=er(["\n  width: 100%;\n  margin: 0.5rem 0;\n  accent-color: #4f46e5;\n"]))),_r=p.Ay.div(Lt||(Lt=er(["\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.75rem;\n  color: #6b7280;\n  margin-top: 0.25rem;\n"]))),Ur=p.Ay.div(_t||(_t=er(["\n  background: #f3f4f6;\n  padding: 0.5rem;\n  border-radius: 6px;\n  text-align: center;\n  font-weight: 500;\n  color: #374151;\n"]))),Gr=p.Ay.div(Ut||(Ut=er(["\n  padding: 1.5rem;\n  border-top: 1px solid #e5e7eb;\n  background: #f9fafb;\n  display: flex;\n  gap: 1rem;\n  opacity: ",";\n  transition: opacity 0.3s ease;\n"])),function(e){return e.open?1:0}),Yr=p.Ay.button(Gt||(Gt=er(["\n  flex: 1;\n  padding: 0.875rem 1.5rem;\n  background: #4f46e5;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  \n  &:hover {\n    background: #4338ca;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n"]))),Hr=p.Ay.button(Yt||(Yt=er(["\n  flex: 1;\n  padding: 0.875rem 1.5rem;\n  background: #ef4444;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  \n  &:hover {\n    background: #dc2626;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n"]))),$r=p.Ay.div(Ht||(Ht=er(["\n  background: #f3f4f6;\n  padding: 1rem;\n  border-radius: 8px;\n  text-align: center;\n  font-weight: 500;\n  color: #374151;\n  margin-bottom: 1rem;\n"])));function qr(e){var n=e.open,t=e.bin,r=(e.onClose,e.onSave),o=e.onDelete,i=e.gridHeight,a=void 0===i?400:i,l=Kt((0,s.useState)(""),2),c=l[0],u=l[1],d=Kt((0,s.useState)(xr[0].value),2),f=d[0],m=d[1],p=Kt((0,s.useState)(!1),2),h=p[0],g=p[1],b=Kt((0,s.useState)(21),2),y=b[0],v=b[1];if((0,s.useEffect)(function(){t&&(u(t.name||""),m(t.color||xr[0].value),g(t.shadowBoard||!1),v(t.height||21))},[t]),!t)return null;var w=tn(Vt(Vt({},t),{},{shadowBoard:h,height:y}));return s.createElement(Er,{open:n,gridHeight:a},s.createElement(Sr,{open:n},s.createElement(Or,{value:c,onChange:function(e){return u(e.target.value)},placeholder:"Enter bin name..."}),s.createElement(kr,null,"$",w.toFixed(2))),s.createElement(Ar,{open:n},s.createElement(jr,null,s.createElement($r,null,t.width,"mm × ",t.length,"mm × ",y,"mm"),s.createElement(Cr,null,"3D Preview"),s.createElement(Dr,null,s.createElement($t.Hl,{camera:{position:[5,5,5],fov:50}},s.createElement("ambientLight",{intensity:.6}),s.createElement("pointLight",{position:[10,10,10],intensity:.8}),s.createElement(qt.az,{args:[t.width/100,y/100,t.length/100]},s.createElement("meshStandardMaterial",{color:f})),h&&s.createElement(qt.az,{position:[0,-y/200-.015,0],args:[t.width/100,.03,t.length/100]},s.createElement("meshStandardMaterial",{color:"#1f2937"})),s.createElement("group",null,s.createElement(qt.az,{position:[0,0,t.length/200],args:[t.width/100,y/100,.02]},s.createElement("meshStandardMaterial",{color:"#6b7280",opacity:.3,transparent:!0})),s.createElement(qt.az,{position:[0,0,-t.length/200],args:[t.width/100,y/100,.02]},s.createElement("meshStandardMaterial",{color:"#6b7280",opacity:.3,transparent:!0})),s.createElement(qt.az,{position:[-t.width/200,0,0],args:[.02,y/100,t.length/100]},s.createElement("meshStandardMaterial",{color:"#6b7280",opacity:.3,transparent:!0})),s.createElement(qt.az,{position:[t.width/200,0,0],args:[.02,y/100,t.length/100]},s.createElement("meshStandardMaterial",{color:"#6b7280",opacity:.3,transparent:!0}))),s.createElement(Xt.N,{enableZoom:!0,enablePan:!1})))),s.createElement(jr,null,s.createElement(Cr,null,"Bin Height"),s.createElement(Rr,null,s.createElement(Ur,null,"Height: ",y,"mm"),s.createElement(Lr,{type:"range",min:"21",max:"42",step:"7",value:y,onChange:function(e){return v(parseInt(e.target.value))}}),s.createElement(_r,null,s.createElement("span",null,"21mm (Standard)"),s.createElement("span",null,"28mm"),s.createElement("span",null,"35mm"),s.createElement("span",null,"42mm (Max)")))),s.createElement(jr,null,s.createElement(Cr,null,"Bin Color"),s.createElement(Pr,null,xr.map(function(e){return s.createElement(zr,{key:e.value,onClick:function(){return m(e.value)}},s.createElement(Ir,{color:e.value,selected:f===e.value}),s.createElement(Mr,null,e.name))}))),s.createElement(jr,null,s.createElement(Cr,null,"Shadow Board"),s.createElement(Br,{checked:h},s.createElement(Tr,{type:"checkbox",checked:h,onChange:function(e){return g(e.target.checked)}}),s.createElement("div",null,s.createElement(Nr,null,"Add Shadow Board Foam"),s.createElement(Fr,null,"Adds a custom-cut foam layer beneath your bin for tool organization (+$3.00)"))))),s.createElement(Gr,{open:n},s.createElement(Yr,{onClick:function(){t&&r&&r(Vt(Vt({},t),{},{name:c,color:f,shadowBoard:h,height:y}))}},"Save Changes"),s.createElement(Hr,{onClick:function(){t&&o&&o(t.id)}},"Delete Bin")))}function Xr(e){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(e)}function Jr(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=eo(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}function Wr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Vr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wr(Object(t),!0).forEach(function(n){Zr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Zr(e,n,t){return(n=function(e){var n=function(e){if("object"!=Xr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Xr(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xr(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Kr(e){return function(e){if(Array.isArray(e))return no(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||eo(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e,n){if(e){if("string"==typeof e)return no(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?no(e,n):void 0}}function no(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function to(e){var n=e.drawerDimensions,t=e.availableBins,r=void 0===t?[]:t,o=e.onLayoutComplete,i=(0,m.Zp)(),a=Qr((0,s.useState)({width:window.innerWidth,height:window.innerHeight}),2),l=a[0],c=a[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:420,length:420},n=Cn((0,s.useState)(e),2),t=n[0],r=n[1],o=Cn((0,s.useState)(20),2),i=o[0],a=o[1],l=Cn((0,s.useState)({width:0,height:0}),2),c=l[0],u=l[1],d=Cn((0,s.useState)(!1),2),f=d[0],m=d[1],p=Math.floor(t.width/Qe),h=Math.floor(t.length/Qe),g=p/h,b=(0,s.useCallback)(function(e,n){var t,r,o=.7*e;g>o/n?(t=o,r=o/g):(r=n,t=n*g);var i=t/p,l=r/h,c=Math.min(i,l),s=Math.max(4,Math.min(c,100));return u({width:s*p,height:s*h}),a(s),s},[p,h,g]);return{drawerDimensions:t,setDrawerDimensions:r,cellPixelSize:i,setCellPixelSize:a,gridBounds:c,gridCols:p,gridRows:h,gridAspectRatio:g,isCustomDrawer:f,setIsCustomDrawer:m,calculateGridSize:b}}(n),d=u.drawerDimensions,f=u.setDrawerDimensions,p=u.cellPixelSize,h=(u.setCellPixelSize,u.gridBounds),g=u.gridCols,b=u.gridRows,y=(u.gridAspectRatio,u.calculateGridSize);(0,s.useEffect)(function(){n&&f(n)},[n,f]);var v=function(e,n){var t=Bn((0,s.useState)([]),2),r=t[0],o=t[1],i=Bn((0,s.useState)(null),2),a=i[0],l=i[1],c=(0,s.useCallback)(function(e){var n=e.id?e:In(In({},e),{},{id:(0,Ke.A)()});o(function(e){return[].concat(function(e){if(Array.isArray(e))return Nn(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Tn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]);var t})},[]),u=(0,s.useCallback)(function(e){o(function(n){return n.filter(function(n){return n.id!==e})}),(null==a?void 0:a.id)===e&&l(null)},[a]),d=(0,s.useCallback)(function(){o([]),l(null)},[]),f=(0,s.useCallback)(function(e,n,t){o(function(r){return r.map(function(r){return r.id===e?In(In({},r),{},{x:n,y:t}):r})})},[]),m=(0,s.useCallback)(function(e){l((null==a?void 0:a.id)===e.id?null:e)},[a]),p=(0,s.useCallback)(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.some(function(t){if(n&&t.id===n)return!1;var r=e.x+e.width,o=e.y+(e.length||e.height),i=t.x+t.width,a=t.y+(t.length||t.height);return!(r<=t.x||e.x>=i||o<=t.y||e.y>=a)})},[r]),h=(0,s.useCallback)(function(t){var r=t.x+t.width,o=t.y+(t.length||t.height);return t.x>=0&&t.y>=0&&r<=21*e&&o<=21*n},[e,n]),g=(0,s.useCallback)(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return h(e)&&!p(e,n)},[h,p]);return{placedBins:r,setPlacedBins:o,selectedBin:a,setSelectedBin:l,addBin:c,removeBin:u,clearAllBins:d,moveBin:f,selectBin:m,checkCollision:p,checkBounds:h,isValidPlacement:g}}(g,b),w=v.placedBins,x=v.setPlacedBins,E=v.selectedBin,S=v.setSelectedBin,O=v.addBin,k=v.removeBin,A=v.clearAllBins,j=v.moveBin,C=v.selectBin,D=v.checkCollision,P=v.checkBounds,z=v.isValidPlacement;(0,s.useEffect)(function(){var e=E?320:0,n=l.width<768,t=n?32:80,r=n?32:64,o=l.width-t-r-e-160,i=.65*(l.height-80);y(o,i)},[l,E,y]);var I=function(e,n,t,r){var o=Fn((0,s.useState)(!1),2),i=o[0],a=o[1],l=Fn((0,s.useState)(null),2),c=l[0],u=l[1],d=Fn((0,s.useState)(null),2),f=d[0],m=d[1],p=Fn((0,s.useState)(null),2),h=p[0],g=p[1],b=Fn((0,s.useState)(null),2),y=b[0],v=b[1],w=Fn((0,s.useState)(""),2),x=w[0],E=w[1],S=(0,s.useRef)(null),O=(0,s.useCallback)(function(e){return t.some(function(n){var t=e.x+e.width,r=e.y+e.length,o=n.x+n.width,i=n.y+n.length;return!(t<=n.x||e.x>=o||r<=n.y||e.y>=i)})},[t]),k=(0,s.useCallback)(function(e,n){var t=e*Qe,r=n*Qe;return t>=21&&t<=250&&r>=42&&r<=250&&t*r>=882},[]),A=(0,s.useCallback)(function(n,t){if(!S.current)return null;var r=S.current.getBoundingClientRect(),o=n-r.left,i=t-r.top,a=r.width/e;return{gridX:Math.floor(o/a),gridY:Math.floor(i/a)}},[e]),j=(0,s.useCallback)(function(t){t.preventDefault();var r=A(t.clientX,t.clientY);r&&r.gridX>=0&&r.gridX<e&&r.gridY>=0&&r.gridY<n&&(a(!0),u(r),m(r),v(null),E(""))},[A,e,n]),C=(0,s.useCallback)(function(t){if(i){var r=A(t.clientX,t.clientY);if(r){var o=Math.max(0,Math.min(r.gridX,e-1)),a=Math.max(0,Math.min(r.gridY,n-1));m({gridX:o,gridY:a});var l=Math.min(c.gridX,o),u=Math.min(c.gridY,a),s=Math.abs(o-c.gridX)+1,d=Math.abs(a-c.gridY)+1,f=O({x:l*Qe,y:u*Qe,width:s*Qe,length:d*Qe}),p=k(s,d);p?f?(v("collision"),E("Cannot place bin here - overlaps with existing bin")):(v(null),E("")):(v("size"),E("Bin size must be between ".concat(21,"mm and ").concat(250,"mm")));var h=S.current?S.current.getBoundingClientRect().width/e:0;g({left:l*h,top:u*h,width:s*h,height:d*h,hasError:!p||f})}}},[i,A,c,e,n,O,k]),D=(0,s.useCallback)(function(){if(!i||!c||!f)return a(!1),void g(null);var e=Math.min(c.gridX,f.gridX),n=Math.min(c.gridY,f.gridY),t=Math.abs(f.gridX-c.gridX)+1,o=Math.abs(f.gridY-c.gridY)+1,l={x:e*Qe,y:n*Qe,width:t*Qe,length:o*Qe},s=O(l);if(k(t,o)&&!s){var d={id:(0,Ke.A)(),x:l.x,y:l.y,width:l.width,length:l.length,height:21,shadowBoard:!1,name:"Custom ".concat(Math.round(l.width),"×").concat(Math.round(l.length),"mm"),color:"#10b981"};r(function(e){return[].concat(function(e){if(Array.isArray(e))return Ln(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||Rn(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[d]);var n})}a(!1),u(null),m(null),g(null),v(null),E("")},[i,c,f,O,k,r]);return{isDrawing:i,drawingPreview:h,drawingError:y,errorMessage:x,drawingContainerRef:S,handleMouseDown:j,handleMouseMove:C,handleMouseUp:D,setErrorMessage:E}}(g,b,w,x),M=I.isDrawing,B=I.drawingPreview,T=(I.drawingError,I.errorMessage),N=I.drawingContainerRef,F=I.handleMouseDown,R=I.handleMouseMove,L=I.handleMouseUp,_=I.setErrorMessage,U=function(e,n,t,r,o,i,a){var l=Hn((0,s.useState)(null),2),c=l[0],u=l[1],d=Hn((0,s.useState)(null),2),f=d[0],m=d[1],p=Hn((0,s.useState)(!1),2),h=p[0],g=p[1],b=(0,s.useCallback)(function(e){u(e)},[]),y=(0,s.useCallback)(function(){u(null),m(null),g(!1)},[]),v=(0,s.useCallback)(function(e,n){if(c){var t=Gn(Gn({},c),{},{x:e,y:n}),r=i(t)&&!a(t,c.id),l=c.length,u=e/21*o,s=n/21*o,d=c.width/21*o;m({left:u,top:s,width:d,height:l/21*o,visible:!0,error:!r})}},[c,o,i,a]),w=(0,s.useCallback)(function(e,t){if(c){var r=Gn(Gn({},c),{},{x:e,y:t});i(r)&&!a(r,c.id)&&n(function(n){return n.map(function(n){return n.id===c.id?Gn(Gn({},n),{},{x:e,y:t}):n})}),u(null),m(null)}},[c,i,a,n]),x=(0,s.useCallback)(function(){c&&(n(function(e){return e.filter(function(e){return e.id!==c.id})}),u(null),g(!1))},[c,n]),E=(0,s.useCallback)(function(){c&&g(!0)},[c]),S=(0,s.useCallback)(function(){g(!1)},[]);return{draggedBin:c,dropShadow:f,isCarouselDropTarget:h,handleDragStart:b,handleDragEnd:y,handleGridHover:v,handleGridDrop:w,handleCarouselDrop:x,handleCarouselDragOver:E,handleCarouselDragLeave:S,setDropShadow:m}}(0,x,0,0,p,P,D),G=U.draggedBin,Y=U.dropShadow,H=U.isCarouselDropTarget,$=U.handleDragStart,q=U.handleDragEnd,X=U.handleGridHover,J=U.handleGridDrop,W=(U.handleCarouselDrop,U.handleCarouselDragOver),V=(U.handleCarouselDragLeave,U.setDropShadow),Z=Qr((0,s.useState)(Kr(r)),2),K=Z[0],Q=Z[1],ee=Qr((0,s.useState)(null),2),ne=ee[0],te=ee[1],re=Qr((0,s.useState)(null),2),oe=re[0],ie=re[1],ae=function(e){ie(e),setTimeout(function(){return ie(null)},3e3)},le=Qr((0,Ze.H)({accept:["bin","placed-bin"],drop:function(e){if(e.placedBinId){var n=w.find(function(n){return n.id===e.placedBinId});if(n){x(function(n){return n.filter(function(n){return n.id!==e.placedBinId})});var t=r.find(function(e){return e.id===n.originalId})||{id:n.originalId||n.id,label:n.name,width:n.width,length:n.length,color:n.color};Q(function(e){return[].concat(Kr(e),[t])})}}},hover:W,collect:function(e){var n;return{isCarouselDropTarget:e.isOver()&&(null===(n=e.getItem())||void 0===n?void 0:n.placedBinId)}}}),2)[1],ce=Qr((0,Ze.H)({accept:["bin","placed-bin"],hover:function(e,n){if(e.bin||e.placedBinId){var t=document.querySelector('[data-grid="true"]'),r=n.getClientOffset();if(t&&r){var o=t.getBoundingClientRect(),i=r.x-o.left,a=r.y-o.top,l=Math.floor(i/p),c=Math.floor(a/p),u=l*Qe,s=c*Qe,d=G;if(e.bin&&!d&&(d={id:e.bin.id,width:e.bin.width,length:e.bin.length,x:u,y:s}),d){var f=Vr(Vr({},d),{},{x:u,y:s}),m=P(f)&&!D(f,d.id),h=u/21*p,g=s/21*p,b=d.width/21*p,y=d.length/21*p;V({left:h,top:g,width:b,height:y,visible:!0,error:!m})}else X(u,s)}}},drop:function(e,n){var t=document.querySelector('[data-grid="true"]'),r=n.getClientOffset();if(t&&r){var o=t.getBoundingClientRect(),i=r.x-o.left,a=r.y-o.top,l=Math.floor(i/p),c=Math.floor(a/p);if(e.placedBinId){var u=l*Qe,s=c*Qe;z(Vr(Vr({},G),{},{x:u,y:s}),e.placedBinId)?j(e.placedBinId,u,s):ae("Cannot place bin here - overlaps with existing bin or outside bounds")}else if(e.bin){var d={id:(0,Ke.A)(),originalId:e.bin.id,x:l*Qe,y:c*Qe,width:e.bin.width,length:e.bin.length,height:21,shadowBoard:!1,name:e.bin.label,color:e.bin.color};z(d)?(O(d),Q(function(n){return n.filter(function(n){return n.id!==e.bin.id})})):ae("Cannot place bin here - overlaps with existing bin or outside bounds")}}},collect:function(e){return{isOver:e.isOver()}}}),2),ue=ce[0].isOver,se=ce[1];(0,s.useEffect)(function(){ue||V(null)},[ue,V]);var de=function(e){k(e.id);var n=r.find(function(n){return n.id===e.originalId});n&&Q(function(e){return[].concat(Kr(e),[n])})},fe=function(e){de(w.find(function(n){return n.id===e})),S(null),te(null)},me=function(){S(null),te(null)};return(0,s.useEffect)(function(){var e=function(e){"Delete"!==e.key&&"Backspace"!==e.key||ne&&(e.preventDefault(),fe(ne)),"Escape"===e.key&&me()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}},[ne]),(0,s.useEffect)(function(){var e=function(){c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),s.createElement(an,null,s.createElement(ln,{ref:le,isCarouselDropTarget:H},s.createElement(un,{hasBins:K.length>0,style:{color:"#374151"}},"Available Bins ",H&&"(Drop here to store)"),s.createElement(cn,{hasBins:K.length>0},K.map(function(e){return s.createElement(vt,{key:e.id,bin:e,mode:"carousel"})}),0===K.length&&s.createElement("p",{style:{color:"#6b7280",margin:0}},"All bins have been placed"))),s.createElement(sn,null,s.createElement(fn,null,s.createElement(mn,null,s.createElement(dn,null,s.createElement(hn,null,s.createElement(tt,{onAutoSort:function(){if(0!==w.length){var e=nt.autoSortBins(w,g,b),n=e.placedBins,t=e.unplacedBins;if(x(n),t.length>0){var r=t.map(function(e){return{id:e.originalId||e.id,label:e.name,width:e.width,length:e.length,color:e.color}});Q(function(e){return[].concat(Kr(e),Kr(r))}),ae("Sorted ".concat(n.length," bins, ").concat(t.length," returned to carousel"))}else ae("All bins sorted successfully!")}else ae("No bins to sort")},onGenerateBins:function(){for(var e=[],n=0,t=Kr(w),r=!0,o=0;r&&o<200;){o++,r=!1;var i=nt.findAllGaps(g,b,t,2);if(0===i.length)break;var a,l=Jr(i);try{for(l.s();!(a=l.n()).done;){var c,u=a.value,s=u.width*Qe,d=u.height*Qe,f=!1,m=Jr(nn);try{for(m.s();!(c=m.n()).done;){var p=c.value;if(p.width<=s&&p.length<=d){var h={id:(0,Ke.A)(),x:u.x*Qe,y:u.y*Qe,width:p.width,length:p.length,height:21,shadowBoard:!1,name:"Auto ".concat(n+1),color:en[n%en.length]};if(nt.checkValidPlacement(h,t,g,b)){t.push(h),e.push(h),O(h),n++,r=!0,f=!0;break}}}}catch(e){m.e(e)}finally{m.f()}if(f)break}}catch(e){l.e(e)}finally{l.f()}}e.length>0?ae("Added ".concat(e.length," auto-generated bins!")):ae("No suitable bin size found for available space")},onReset:function(){A(),Q(Kr(r)),S(null),te(null)},onReview:function(){if(0===w.length)return _("Please place at least one bin before proceeding."),void setTimeout(function(){return _(null)},3e3);var e=w.reduce(function(e,n){return e+tn(n)},0),n=rn(d);o({bins:w,drawerDimensions:d,totalCost:e+n,binsCost:e,baseplateCost:n}),i("/review")},hasPlacedBins:w.length>0}),s.createElement(gn,{width:h.width,height:h.height},s.createElement(lt,{ref:se,gridCols:g,gridRows:b,cellSize:p,placedBins:w,selectedBin:E,onBinClick:function(e){C(e),te(e.id)},onBinDoubleClick:de,draggedBin:G,onDragStart:$,onDragEnd:q,dropShadow:Y,onGridHover:X,onGridDrop:J,drawingContainerRef:N,isDrawing:M,drawingPreview:B,onMouseDown:F,onMouseMove:R,onMouseUp:L}))),s.createElement(jn,null,"Click and drag to draw custom bins • Double-click bins to delete • Drop bins here to place them"))),s.createElement(qr,{open:!!E,bin:E,onClose:me,onSave:function(e){x(function(n){return n.map(function(n){return n.id===e.id?e:n})}),S(null),te(null)},onDelete:fe}))),T&&s.createElement(kn,null,T),oe&&s.createElement(An,null,oe))}function ro(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return oo(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oo(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oo(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function io(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var ao=p.Ay.div(nr||(nr=io(["\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 1rem;\n  min-height: calc(100vh - 80px); /* Minimum height, but can expand */\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  \n  @media (max-width: 768px) {\n    min-height: calc(100vh - 70px);\n    padding: 0.75rem;\n  }\n"]))),lo=p.Ay.div(tr||(tr=io(["\n  background: white;\n  padding: 1.5rem;\n  border-radius: 12px;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-shrink: 0; /* Don't shrink */\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n    align-items: stretch;\n  }\n"]))),co=p.Ay.div(rr||(rr=io(["\n  h3 {\n    margin: 0 0 0.75rem 0;\n    color: #374151;\n    font-size: 1.25rem;\n  }\n  \n  .dimensions {\n    margin: 0 0 0.5rem 0;\n    color: #6b7280;\n    font-weight: 500;\n  }\n  \n  .bin-count {\n    margin: 0;\n    color: #6b7280;\n    font-weight: 500;\n  }\n"]))),uo=p.Ay.button(or||(or=io(["\n  padding: 0.75rem 1.5rem;\n  background: #10b981;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  white-space: nowrap;\n  \n  &:hover {\n    background: #059669;\n    transform: translateY(-1px);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n"]))),so=p.Ay.div(ir||(ir=io(["\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n  display: flex;\n  flex-direction: column;\n  /* Remove flex: 1 and min-height constraints to allow natural expansion */\n"]))),fo=p.Ay.div(ar||(ar=io(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: ",";\n  cursor: pointer;\n  user-select: none;\n  \n  h2 {\n    margin: 0;\n    color: #374151;\n  }\n  \n  .dropdown-arrow {\n    transition: transform 0.3s ease;\n    transform: ",";\n    font-size: 1.2rem;\n    color: #6b7280;\n  }\n"])),function(e){return e.isCollapsed?"none":"1px solid #e5e7eb"},function(e){return e.isCollapsed?"rotate(-90deg)":"rotate(0deg)"}),mo=p.Ay.div(lr||(lr=io(["\n  overflow: hidden;\n  transition: max-height 0.6s ease-in-out, opacity 0.3s ease-in-out;\n  max-height: ","; /* Large value for expanded state */\n  opacity: ",";\n  display: flex;\n  flex-direction: column;\n  \n  /* Ensure content is hidden when collapsed */\n  ","\n"])),function(e){return e.isCollapsed?"0":"2000px"},function(e){return e.isCollapsed?0:1},function(e){return e.isCollapsed&&"\n    padding: 0;\n    margin: 0;\n  "}),po=p.Ay.div(cr||(cr=io(["\n  padding: 0 1.5rem;\n  /* Remove overflow and flex constraints to allow natural expansion */\n"]))),ho=p.Ay.div(ur||(ur=io(["\n  display: grid;\n  grid-template-columns: 60px 1fr auto;\n  gap: 1rem;\n  align-items: center;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  background: #f9fafb;\n  border-radius: 8px;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    text-align: center;\n  }\n"]))),go=p.Ay.div(sr||(sr=io(["\n  width: 60px;\n  height: 60px;\n  background: ",";\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: 600;\n  font-size: 0.875rem;\n"])),function(e){return e.color}),bo=p.Ay.div(dr||(dr=io(["\n  h4 {\n    margin: 0 0 0.25rem 0;\n    color: #374151;\n    font-size: 1rem;\n  }\n  \n  p {\n    margin: 0.125rem 0;\n    color: #6b7280;\n    font-size: 0.875rem;\n  }\n"]))),yo=p.Ay.div(fr||(fr=io(["\n  font-weight: 700;\n  font-size: 1.125rem;\n  color: #4f46e5;\n  text-align: right;\n"]))),vo=p.Ay.div(mr||(mr=io(["\n  display: flex;\n  gap: 0.5rem;\n  margin: 0;\n  padding: 1rem 1.5rem;\n  background: #f8fafc;\n  border-top: 1px solid #e5e7eb;\n  \n  input {\n    flex: 1;\n    padding: 0.75rem;\n    border: 2px solid #e5e7eb;\n    border-radius: 6px;\n    font-size: 1rem;\n    \n    &:focus {\n      outline: none;\n      border-color: #4f46e5;\n    }\n  }\n  \n  button {\n    padding: 0.75rem 1.5rem;\n    background: #4f46e5;\n    color: white;\n    border: none;\n    border-radius: 6px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: background 0.2s;\n    \n    &:hover {\n      background: #4338ca;\n    }\n  }\n"]))),wo=p.Ay.div(pr||(pr=io(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  padding: 1.5rem;\n  border-top: 2px solid #e5e7eb;\n  background: white;\n  border-radius: 0 0 12px 12px;\n"]))),xo=p.Ay.h3(hr||(hr=io(["\n  margin: 0.5rem 0 0 0;\n  font-size: 1.25rem;\n  color: #374151;\n"]))),Eo=p.Ay.div(gr||(gr=io(["\n  font-size: 2rem;\n  font-weight: 700;\n  color: #4f46e5;\n"]))),So=p.Ay.div(br||(br=io(["\n  background: #f0f9ff;\n  padding: 1rem 1.5rem;\n  border-left: 4px solid #3b82f6;\n  \n  h4 {\n    margin: 0 0 0.75rem 0;\n    color: #1e40af;\n    font-size: 0.9rem;\n  }\n  \n  p {\n    margin: 0.125rem 0;\n    color: #1e3a8a;\n    font-size: 0.8rem;\n  }\n"]))),Oo=p.Ay.div(yr||(yr=io(["\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  padding: 1rem;\n  /* Remove flex-shrink: 0 to allow natural page expansion */\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]))),ko=p.Ay.button(vr||(vr=io(["\n  padding: 1rem 2rem;\n  background: #4f46e5;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 1.125rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  \n  &:hover {\n    background: #4338ca;\n    transform: translateY(-1px);\n  }\n"]))),Ao=p.Ay.button(wr||(wr=io(["\n  padding: 1rem 2rem;\n  background: white;\n  color: #4f46e5;\n  border: 2px solid #4f46e5;\n  border-radius: 8px;\n  font-size: 1.125rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  \n  &:hover {\n    background: #4f46e5;\n    color: white;\n    transform: translateY(-1px);\n  }\n"])));function jo(e){var n,t=e.bins,r=void 0===t?{}:t,o=e.drawerDimensions,i=e.onProceedToCheckout,a=e.dataManager,l=(0,m.Zp)(),c=ro((0,s.useState)(""),2),u=c[0],d=c[1],f=ro((0,s.useState)(0),2),p=f[0],h=f[1],g=ro((0,s.useState)(!0),2),b=g[0],y=g[1],v=r.bins||r||(null==a||null===(n=a.appData)||void 0===n?void 0:n.layoutConfig)||[],w=null==a?void 0:a.appData,x=(null==w?void 0:w.drawerDimensions)||o,E=(null==w?void 0:w.layoutConfig)||v,S=Math.ceil(x.width/Qe),O=Math.ceil(x.length/Qe),k=function(){return E.reduce(function(e,n){return e+tn(n)},0)+rn(x)},A=function(){return k()>100?0:15},j=function(){var e=k();return e+A()-e*(p/100)};return s.createElement(ao,null,s.createElement(lo,null,s.createElement(co,null,s.createElement("h3",null,"Your Drawer"),s.createElement("p",{className:"dimensions"},S," × ",O," cells (",Math.round(x.width),"mm × ",Math.round(x.length),"mm)"),s.createElement("p",{className:"bin-count"},E.length," bin",1!==E.length?"s":""," configured")),s.createElement(uo,{onClick:function(){var e={dimensions:o,bins:v,cellDimensions:{x:S,y:O},savedDate:(new Date).toISOString()};console.log("Saving drawer to user account:",e),alert("Drawer saved to your cabinet! (This is simulated - account functionality will be built later)")}},"Save drawer to my cabinet")),s.createElement(so,null,s.createElement(fo,{isCollapsed:b,onClick:function(){y(!b)}},s.createElement("h2",null,"Order Details"),s.createElement("span",{className:"dropdown-arrow"},"▼")),s.createElement(mo,{isCollapsed:b},s.createElement(po,null,E.length>0?E.map(function(e,n){return s.createElement(ho,{key:e.id||n},s.createElement(go,{color:e.color||"#4f46e5"},n+1),s.createElement(bo,null,s.createElement("h4",null,e.name||"Custom Bin ".concat(n+1)),s.createElement("p",null,e.width,"mm × ",e.length,"mm × ",e.height,"mm"),s.createElement("p",null,"Position: (",Math.round(e.x),"mm, ",Math.round(e.y),"mm)"),e.shadowBoard&&s.createElement("p",null,"• Shadow Board included")),s.createElement(yo,null,"$",tn(e).toFixed(2)))}):s.createElement("p",{style:{textAlign:"center",color:"#6b7280",padding:"2rem"}},"No bins in your layout. Please go back and add some bins."))),s.createElement(vo,null,s.createElement("input",{type:"text",placeholder:"Enter promo code",value:u,onChange:function(e){return d(e.target.value)}}),s.createElement("button",{onClick:function(){var e=u.toUpperCase();"SAVE10"===e?(h(10),alert("Promo code applied! 10% discount")):"FIRST20"===e?(h(20),alert("Promo code applied! 20% discount")):alert("Invalid promo code")}},"Apply")),s.createElement(So,null,s.createElement("h4",null,"Shipping Information"),s.createElement("p",null,"• Production: 3-5 days • Shipping: 2-4 days"),s.createElement("p",null,"• Free shipping on orders over $100"),s.createElement("p",null,"• All bins are custom made to order")),s.createElement(wo,null,s.createElement("div",null,s.createElement("p",{style:{color:"#6b7280",marginBottom:"0.5rem"}},"Bins: $",E.reduce(function(e,n){return e+tn(n)},0).toFixed(2)),s.createElement("p",{style:{color:"#6b7280",marginBottom:"0.5rem"}},"Baseplate: $",rn(x).toFixed(2)),s.createElement("p",{style:{color:"#6b7280",marginBottom:"0.5rem"}},"Subtotal: $",k().toFixed(2)),s.createElement("p",{style:{color:"#6b7280",marginBottom:"0.5rem"}},"Shipping: ",0===A()?"FREE":"$".concat(A().toFixed(2))),p>0&&s.createElement("p",{style:{color:"#10b981",marginBottom:"0.5rem"}},"Discount (",p,"%): -$",(k()*p/100).toFixed(2)),s.createElement(xo,null,"Total")),s.createElement(Eo,null,"$",j().toFixed(2)))),s.createElement(Oo,null,s.createElement(Ao,{onClick:function(){l("/layout")}},"Back to Layout"),s.createElement(ko,{onClick:function(){var e={bins:E,drawerDimensions:x,subtotal:k(),shipping:A(),discount:p,total:j(),baseplateCost:rn(x)};a&&a.updateOrderData(e),i(e),l("/checkout")},disabled:0===E.length},"Proceed to Checkout")))}var Co,Do,Po,zo,Io,Mo,Bo,To,No,Fo,Ro,Lo,_o,Uo,Go,Yo=t(7260);function Ho(e){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(e)}function $o(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return qo(u,"_invoke",function(t,r,o){var i,l,c,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return i=n,l=0,c=e,f.n=t,a}};function m(t,r){for(l=t,c=r,n=0;!d&&u&&!o&&n<s.length;n++){var o,i=s[n],m=f.p,p=i[2];t>3?(o=p===r)&&(c=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=m&&((o=t<2&&m<i[1])?(l=0,f.v=r,f.n=i[1]):m<p&&(o=t<3||i[0]>r||r>p)&&(i[4]=t,i[5]=r,f.n=p,l=0))}if(o||t>1)return a;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),l=s,c=p;(n=l<2?e:c)||!d;){i||(l?l<3?(l>1&&(f.n=-1),m(l,c)):f.n=c:f.v=c);try{if(u=2,i){if(l||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,l<2&&(l=0)}else 1===l&&(n=i.return)&&n.call(i),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((n=(d=f.n<0)?c:t.call(r,f))!==a)break}catch(n){i=e,l=1,c=n}finally{u=1}}return{value:n,done:d}}}(t,o,i),!0),u}var a={};function l(){}function c(){}function u(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(qo(n={},r,function(){return this}),n),d=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,qo(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,qo(d,"constructor",u),qo(u,"constructor",c),c.displayName="GeneratorFunction",qo(u,o,"GeneratorFunction"),qo(d),qo(d,o,"Generator"),qo(d,r,function(){return this}),qo(d,"toString",function(){return"[object Generator]"}),($o=function(){return{w:i,m:f}})()}function qo(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}qo=function(e,n,t,r){if(n)o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t;else{var i=function(n,t){qo(e,n,function(e){return this._invoke(n,t,e)})};i("next",0),i("throw",1),i("return",2)}},qo(e,n,t,r)}function Xo(e,n,t,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void t(e)}l.done?n(c):Promise.resolve(c).then(r,o)}function Jo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Wo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Jo(Object(t),!0).forEach(function(n){Vo(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jo(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Vo(e,n,t){return(n=function(e){var n=function(e){if("object"!=Ho(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Ho(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ho(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Zo(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return Ko(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ko(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function Qo(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var ei,ni,ti,ri,oi,ii,ai,li,ci,ui,si=p.Ay.div(Co||(Co=Qo(["\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),di=p.Ay.div(Do||(Do=Qo(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 2rem;\n  margin-top: 2rem;\n  \n  @media (max-width: 968px) {\n    grid-template-columns: 1fr;\n  }\n"]))),fi=p.Ay.div(Po||(Po=Qo(["\n  background: white;\n  padding: 2rem;\n  border-radius: 12px;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n"]))),mi=p.Ay.div(zo||(zo=Qo(["\n  background: white;\n  padding: 2rem;\n  border-radius: 12px;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n  height: fit-content;\n"]))),pi=p.Ay.div(Io||(Io=Qo(["\n  margin-bottom: 1.5rem;\n"]))),hi=p.Ay.label(Mo||(Mo=Qo(["\n  display: block;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: #374151;\n"]))),gi=p.Ay.input(Bo||(Bo=Qo(["\n  width: 100%;\n  padding: 0.75rem;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 1rem;\n  transition: border-color 0.2s;\n  \n  &:focus {\n    outline: none;\n    border-color: #4f46e5;\n  }\n  \n  &::placeholder {\n    color: #9ca3af;\n  }\n"]))),bi=p.Ay.div(To||(To=Qo(["\n  display: grid;\n  grid-template-columns: ",";\n  gap: 1rem;\n"])),function(e){return e.columns||"1fr"}),yi=p.Ay.select(No||(No=Qo(["\n  width: 100%;\n  padding: 0.75rem;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 1rem;\n  cursor: pointer;\n  background: white;\n  \n  &:focus {\n    outline: none;\n    border-color: #4f46e5;\n  }\n"]))),vi=p.Ay.div(Fo||(Fo=Qo(["\n  height: 400px;\n  background: #f9fafb;\n  border-radius: 8px;\n  overflow: hidden;\n"]))),wi=p.Ay.div(Ro||(Ro=Qo(["\n  background: #f3f4f6;\n  padding: 1.5rem;\n  border-radius: 8px;\n  margin-top: 2rem;\n"]))),xi=p.Ay.div(Lo||(Lo=Qo(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5rem;\n  color: ",";\n  font-weight: ",";\n  font-size: ",";\n  padding-top: ",";\n  border-top: ",";\n"])),function(e){return e.total?"#1f2937":"#6b7280"},function(e){return e.total?"700":"400"},function(e){return e.total?"1.125rem":"1rem"},function(e){return e.total?"1rem":"0"},function(e){return e.total?"2px solid #e5e7eb":"none"}),Ei=p.Ay.button(_o||(_o=Qo(["\n  width: 100%;\n  padding: 1rem;\n  background: #4f46e5;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 1.125rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  margin-top: 2rem;\n  \n  &:hover:not(:disabled) {\n    background: #4338ca;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);\n  }\n  \n  &:disabled {\n    background: #9ca3af;\n    cursor: not-allowed;\n    transform: none;\n  }\n"]))),Si=p.Ay.div(Uo||(Uo=Qo(["\n  background: #fee;\n  color: #dc2626;\n  padding: 0.75rem;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n  font-size: 0.875rem;\n"]))),Oi=p.Ay.div(Go||(Go=Qo(["\n  background: #d1fae5;\n  color: #065f46;\n  padding: 0.75rem;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n  font-size: 0.875rem;\n"])));function ki(e){var n=e.layoutConfig,t=e.drawerDimensions,r=.002;return s.createElement($t.Hl,{camera:{position:[10,10,10],fov:50}},s.createElement("ambientLight",{intensity:.5}),s.createElement("directionalLight",{position:[10,10,5],intensity:1,castShadow:!0}),s.createElement(qt.az,{args:[t.width*r,.1,t.length*r],position:[0,-.1,0]},s.createElement("meshStandardMaterial",{color:"#e5e7eb"})),s.createElement(qt.az,{args:[t.width*r,t.height*r*.5,.05],position:[0,t.height*r*.25,t.length*r*.5]},s.createElement("meshStandardMaterial",{color:"#d1d5db",transparent:!0,opacity:.3})),s.createElement(qt.az,{args:[t.width*r,t.height*r*.5,.05],position:[0,t.height*r*.25,-t.length*r*.5]},s.createElement("meshStandardMaterial",{color:"#d1d5db",transparent:!0,opacity:.3})),s.createElement(qt.az,{args:[.05,t.height*r*.5,t.length*r],position:[-t.width*r*.5,t.height*r*.25,0]},s.createElement("meshStandardMaterial",{color:"#d1d5db",transparent:!0,opacity:.3})),s.createElement(qt.az,{args:[.05,t.height*r*.5,t.length*r],position:[t.width*r*.5,t.height*r*.25,0]},s.createElement("meshStandardMaterial",{color:"#d1d5db",transparent:!0,opacity:.3})),n&&Array.isArray(n)&&n.map(function(e){var n=e.x/21,o=e.y/21,i=(21*n-t.width/2+e.width/2)*r,a=(21*o-t.length/2+e.length/2)*r,l=e.height*r/2,c=e.color||"#3b82f6";return s.createElement(qt.az,{key:e.id,args:[e.width*r,e.height*r,e.length*r],position:[i,l,a]},s.createElement("meshStandardMaterial",{color:c}))}),s.createElement(Yo.x,{args:[20,20],cellSize:1,cellColor:"#999",sectionColor:"#666"}),s.createElement(Xt.N,{enablePan:!1,enableZoom:!0,enableRotate:!0}))}function Ai(e){var n=e.orderData,t=(e.layoutConfig,e.drawerDimensions),r=e.customerInfo,o=e.dataManager,i=(0,m.Zp)(),a=Zo((0,s.useState)(!1),2),l=a[0],c=a[1],u=Zo((0,s.useState)(null),2),d=u[0],f=u[1],p=Zo((0,s.useState)(!1),2),h=p[0],g=p[1],b=Zo((0,s.useState)({email:(null==r?void 0:r.email)||"",firstName:(null==r?void 0:r.firstName)||"",lastName:(null==r?void 0:r.lastName)||"",address:(null==r?void 0:r.address)||"",apartment:(null==r?void 0:r.apartment)||"",city:(null==r?void 0:r.city)||"",state:(null==r?void 0:r.state)||"",zipCode:(null==r?void 0:r.zipCode)||"",country:(null==r?void 0:r.country)||"US",phone:(null==r?void 0:r.phone)||""}),2),y=b[0],v=b[1];(0,s.useEffect)(function(){r&&v(function(e){return Wo(Wo({},e),{},{email:r.email||e.email,firstName:r.firstName||e.firstName,lastName:r.lastName||e.lastName,address:r.address||e.address,apartment:r.apartment||e.apartment,city:r.city||e.city,state:r.state||e.state,zipCode:r.zipCode||e.zipCode,country:r.country||e.country,phone:r.phone||e.phone})})},[r]);var w=n.total,x=function(e){var n=e.target,t=n.name,r=n.value,i=Wo(Wo({},y),{},Vo({},t,r));v(i),o.updateCustomerInfo(Vo({},t,r))},E=function(){var e=["email","firstName","lastName","address","city","state","zipCode"].filter(function(e){return!y[e]||""===y[e].trim()});return e.length>0?(f("Please fill in the following required fields: ".concat(e.join(", "))),!1):!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)||(f("Please enter a valid email address"),!1)},S=function(){var e,n=(e=$o().m(function e(n){return $o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n.preventDefault(),f(""),E()){e.n=1;break}return e.a(2);case 1:return c(!0),e.p=2,e.n=3,o.submitAllData();case 3:g(!0),setTimeout(function(){i("/order-success")},2e3),e.n=5;break;case 4:e.p=4,e.v,f("Failed to submit order. Please try again."),c(!1);case 5:return e.a(2)}},e,null,[[2,4]])}),function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){Xo(i,r,o,a,l,"next",e)}function l(e){Xo(i,r,o,a,l,"throw",e)}a(void 0)})});return function(e){return n.apply(this,arguments)}}();return s.createElement(si,null,s.createElement("h1",null,"Checkout"),s.createElement("p",null,"Complete your order and we'll start crafting your custom storage solution"),s.createElement(di,null,s.createElement(fi,null,s.createElement("h2",null,"Shipping Information"),d&&s.createElement(Si,null,d),h&&s.createElement(Oi,null,"Order placed successfully! Redirecting..."),s.createElement("form",{onSubmit:S},s.createElement(pi,null,s.createElement(hi,null,"Email"),s.createElement(gi,{type:"email",name:"email",value:y.email,onChange:x,placeholder:"your@email.com",required:!0})),s.createElement(bi,{columns:"1fr 1fr"},s.createElement(pi,null,s.createElement(hi,null,"First Name"),s.createElement(gi,{type:"text",name:"firstName",value:y.firstName,onChange:x,required:!0})),s.createElement(pi,null,s.createElement(hi,null,"Last Name"),s.createElement(gi,{type:"text",name:"lastName",value:y.lastName,onChange:x,required:!0}))),s.createElement(pi,null,s.createElement(hi,null,"Address"),s.createElement(gi,{type:"text",name:"address",value:y.address,onChange:x,placeholder:"123 Main Street",required:!0})),s.createElement(pi,null,s.createElement(hi,null,"Apartment, suite, etc. (optional)"),s.createElement(gi,{type:"text",name:"apartment",value:y.apartment,onChange:x,placeholder:"Apt 4B"})),s.createElement(bi,{columns:"2fr 1fr 1fr"},s.createElement(pi,null,s.createElement(hi,null,"City"),s.createElement(gi,{type:"text",name:"city",value:y.city,onChange:x,required:!0})),s.createElement(pi,null,s.createElement(hi,null,"State"),s.createElement(yi,{name:"state",value:y.state,onChange:x,required:!0},s.createElement("option",{value:""},"Select"),["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"].map(function(e){return s.createElement("option",{key:e,value:e},e)}))),s.createElement(pi,null,s.createElement(hi,null,"ZIP Code"),s.createElement(gi,{type:"text",name:"zipCode",value:y.zipCode,onChange:x,pattern:"[0-9]{5}",required:!0}))),s.createElement(pi,null,s.createElement(hi,null,"Phone Number"),s.createElement(gi,{type:"tel",name:"phone",value:y.phone,onChange:x,placeholder:"(555) 123-4567"})),s.createElement(Ei,{type:"submit",disabled:l},l?"Submitting Order...":"Submit Order for Review"))),s.createElement(mi,null,s.createElement("h2",null,"Your Custom Drawer"),s.createElement("p",{style:{marginBottom:"1rem",color:"#6b7280"}},"3D preview of your configured drawer"),s.createElement(vi,null,s.createElement(ki,{layoutConfig:n.bins,drawerDimensions:t})),s.createElement(wi,null,s.createElement("h3",null,"Order Summary"),s.createElement(xi,null,s.createElement("span",null,"Bins (",n.bins.length," items)"),s.createElement("span",null,"$",(n.subtotal-(n.baseplateCost||0)).toFixed(2))),s.createElement(xi,null,s.createElement("span",null,"Baseplate"),s.createElement("span",null,"$",(n.baseplateCost||0).toFixed(2))),s.createElement(xi,null,s.createElement("span",null,"Shipping"),s.createElement("span",null,0===n.shipping?"FREE":"$".concat(n.shipping.toFixed(2)))),n.discount>0&&s.createElement(xi,null,s.createElement("span",null,"Discount (",n.discount,"%)"),s.createElement("span",null,"-$",(n.subtotal*n.discount/100).toFixed(2))),s.createElement(xi,{total:!0},s.createElement("span",null,"Total"),s.createElement("span",null,"$",w.toFixed(2)))))))}function ji(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function Ci(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var Di,Pi,zi,Ii=p.Ay.div(ei||(ei=Ci(["\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 2rem;\n  text-align: center;\n"]))),Mi=p.Ay.div(ni||(ni=Ci(["\n  width: 80px;\n  height: 80px;\n  background: #10b981;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto 2rem;\n  color: white;\n  font-size: 2rem;\n"]))),Bi=p.Ay.h1(ti||(ti=Ci(["\n  color: #374151;\n  margin-bottom: 1rem;\n  font-size: 2.5rem;\n"]))),Ti=p.Ay.p(ri||(ri=Ci(["\n  color: #6b7280;\n  font-size: 1.125rem;\n  margin-bottom: 2rem;\n  line-height: 1.6;\n"]))),Ni=p.Ay.div(oi||(oi=Ci(["\n  background: white;\n  padding: 2rem;\n  border-radius: 12px;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n  margin: 2rem 0;\n  text-align: left;\n"]))),Fi=p.Ay.div(ii||(ii=Ci(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid #e5e7eb;\n  \n  &:last-child {\n    border-bottom: none;\n    margin-bottom: 0;\n    padding-bottom: 0;\n  }\n"]))),Ri=p.Ay.span(ai||(ai=Ci(["\n  font-weight: 600;\n  color: #374151;\n"]))),Li=p.Ay.span(li||(li=Ci(["\n  color: #6b7280;\n"]))),_i=p.Ay.div(ci||(ci=Ci(["\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]))),Ui=p.Ay.button(ui||(ui=Ci(["\n  padding: 1rem 2rem;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 1rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: none;\n  \n  ","\n"])),function(e){return e.primary?"\n    background: #4f46e5;\n    color: white;\n    \n    &:hover {\n      background: #4338ca;\n      transform: translateY(-1px);\n    }\n  ":"\n    background: white;\n    color: #4f46e5;\n    border: 2px solid #4f46e5;\n    \n    &:hover {\n      background: #ede9fe;\n    }\n  "});function Gi(){var e,n,t=(0,m.Zp)(),r=(e=(0,s.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return ji(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ji(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return(0,s.useEffect)(function(){var e=new URLSearchParams(window.location.search).get("session");if(e)i(e);else{var n=localStorage.getItem("drawerzen_session");if(n){var t=JSON.parse(n);i(t.sessionId)}}},[]),s.createElement(Ii,null,s.createElement(Mi,null,"✓"),s.createElement(Bi,null,"Order Submitted Successfully!"),s.createElement(Ti,null,"Thank you for your order! We've received your custom drawer specifications and will begin processing your order shortly. You'll receive a confirmation email with detailed information and tracking updates."),s.createElement(Ni,null,s.createElement("h3",{style:{marginTop:0,marginBottom:"1.5rem",color:"#374151"}},"Order Information"),s.createElement(Fi,null,s.createElement(Ri,null,"Session ID:"),s.createElement(Li,null,o||"Processing...")),s.createElement(Fi,null,s.createElement(Ri,null,"Status:"),s.createElement(Li,null,"Order Received")),s.createElement(Fi,null,s.createElement(Ri,null,"Estimated Production Time:"),s.createElement(Li,null,"3-5 business days")),s.createElement(Fi,null,s.createElement(Ri,null,"Estimated Shipping:"),s.createElement(Li,null,"2-4 business days")),s.createElement(Fi,null,s.createElement(Ri,null,"Next Steps:"),s.createElement(Li,null,"Our team will review your specifications and contact you within 24 hours with any questions or to confirm production details."))),s.createElement(_i,null,s.createElement(Ui,{onClick:function(){localStorage.removeItem("drawerzen_session"),t("/")}},"Create Another Drawer"),s.createElement(Ui,{primary:!0,onClick:function(){alert("Order tracking feature coming soon!")}},"Track My Orders")))}function Yi(e){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(e)}function Hi(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$i(r.key),r)}}function $i(e){var n=function(e){if("object"!=Yi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=Yi(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yi(n)?n:n+""}function qi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qi=function(){return!!e})()}function Xi(e){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xi(e)}function Ji(e,n){return Ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Ji(e,n)}function Wi(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var Vi=p.Ay.div(Di||(Di=Wi(["\n  padding: 2rem;\n  background-color: #fffbe6;\n  border: 1px solid #facc15;\n  border-radius: 8px;\n  color: #713f12;\n"]))),Zi=p.Ay.h2(Pi||(Pi=Wi(["\n  color: #b45309;\n"]))),Ki=p.Ay.pre(zi||(zi=Wi(["\n  background-color: #fef3c7;\n  padding: 1rem;\n  border-radius: 4px;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  font-size: 0.875rem;\n  color: #92400e;\n"])));const Qi=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,n,t){return n=Xi(n),function(e,n){if(n&&("object"==Yi(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qi()?Reflect.construct(n,t||[],Xi(e).constructor):n.apply(e,t))}(this,n,[e])).state={hasError:!1,error:null},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Ji(e,n)}(n,e),t=n,o=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}],(r=[{key:"componentDidCatch",value:function(e,n){console.error("Uncaught error:",e,n)}},{key:"render",value:function(){var e;return this.state.hasError?s.createElement(Vi,null,s.createElement(Zi,null,"Something went wrong."),s.createElement("p",null,"An error occurred in the application. Please check the details below."),s.createElement(Ki,null,this.state.error&&this.state.error.toString(),s.createElement("br",null),null===(e=this.state.error)||void 0===e?void 0:e.stack)):this.props.children}}])&&Hi(t.prototype,r),o&&Hi(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}(s.Component);function ea(e){return ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ea(e)}function na(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function ta(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?na(Object(t),!0).forEach(function(n){ra(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):na(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ra(e,n,t){return(n=ua(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function oa(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return ia(u,"_invoke",function(t,r,o){var i,l,c,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return i=n,l=0,c=e,f.n=t,a}};function m(t,r){for(l=t,c=r,n=0;!d&&u&&!o&&n<s.length;n++){var o,i=s[n],m=f.p,p=i[2];t>3?(o=p===r)&&(c=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=m&&((o=t<2&&m<i[1])?(l=0,f.v=r,f.n=i[1]):m<p&&(o=t<3||i[0]>r||r>p)&&(i[4]=t,i[5]=r,f.n=p,l=0))}if(o||t>1)return a;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),l=s,c=p;(n=l<2?e:c)||!d;){i||(l?l<3?(l>1&&(f.n=-1),m(l,c)):f.n=c:f.v=c);try{if(u=2,i){if(l||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,l<2&&(l=0)}else 1===l&&(n=i.return)&&n.call(i),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((n=(d=f.n<0)?c:t.call(r,f))!==a)break}catch(n){i=e,l=1,c=n}finally{u=1}}return{value:n,done:d}}}(t,o,i),!0),u}var a={};function l(){}function c(){}function u(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(ia(n={},r,function(){return this}),n),d=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,ia(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,ia(d,"constructor",u),ia(u,"constructor",c),c.displayName="GeneratorFunction",ia(u,o,"GeneratorFunction"),ia(d),ia(d,o,"Generator"),ia(d,r,function(){return this}),ia(d,"toString",function(){return"[object Generator]"}),(oa=function(){return{w:i,m:f}})()}function ia(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ia=function(e,n,t,r){if(n)o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t;else{var i=function(n,t){ia(e,n,function(e){return this._invoke(n,t,e)})};i("next",0),i("throw",1),i("return",2)}},ia(e,n,t,r)}function aa(e,n,t,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void t(e)}l.done?n(c):Promise.resolve(c).then(r,o)}function la(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){aa(i,r,o,a,l,"next",e)}function l(e){aa(i,r,o,a,l,"throw",e)}a(void 0)})}}function ca(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ua(r.key),r)}}function ua(e){var n=function(e){if("object"!=ea(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=ea(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ea(n)?n:n+""}var sa="https://script.google.com/macros/s/AKfycbxw8HK0Q_qGnD_123456789/exec";const da=new(function(){return e=function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.sessionId=this.generateSessionId()},n=[{key:"generateSessionId",value:function(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}},{key:"submitCustomerData",value:(i=la(oa().m(function e(n){var t,r,o,i,a,l,c,u;return oa().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,a={action:"submitData",sessionId:this.sessionId,data:{timestamp:(new Date).toISOString(),sessionId:this.sessionId,email:n.email,firstName:n.firstName,lastName:n.lastName,phone:n.phone||"",address:n.address,apartment:n.apartment||"",city:n.city,state:n.state,zipCode:n.zipCode,country:n.country,drawerWidth:null===(t=n.drawerDimensions)||void 0===t?void 0:t.width,drawerLength:null===(r=n.drawerDimensions)||void 0===r?void 0:r.length,drawerHeight:null===(o=n.drawerDimensions)||void 0===o?void 0:o.height,binCount:(null===(i=n.bins)||void 0===i?void 0:i.length)||0,totalPrice:n.totalPrice,orderDetails:JSON.stringify(n.bins),imageUrl:n.imageUrl||"",status:"pending"}},e.n=1,fetch(sa,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 1:if((l=e.v).ok){e.n=2;break}throw new Error("HTTP error! status: ".concat(l.status));case 2:return e.n=3,l.json();case 3:if(!(c=e.v).success){e.n=4;break}return e.a(2,{success:!0,sessionId:this.sessionId,rowId:c.rowId});case 4:throw new Error(c.error||"Failed to submit data");case 5:e.n=7;break;case 6:throw e.p=6,u=e.v,console.error("Error submitting customer data:",u),u;case 7:return e.a(2)}},e,this,[[0,6]])})),function(e){return i.apply(this,arguments)})},{key:"updateCustomerData",value:(o=la(oa().m(function e(n){var t,r,o,i;return oa().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t={action:"updateData",sessionId:this.sessionId,updates:ta(ta({},n),{},{lastModified:(new Date).toISOString()})},e.n=1,fetch(sa,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 1:if((r=e.v).ok){e.n=2;break}throw new Error("HTTP error! status: ".concat(r.status));case 2:return e.n=3,r.json();case 3:if(!(o=e.v).success){e.n=4;break}return e.a(2,{success:!0});case 4:throw new Error(o.error||"Failed to update data");case 5:e.n=7;break;case 6:throw e.p=6,i=e.v,console.error("Error updating customer data:",i),i;case 7:return e.a(2)}},e,this,[[0,6]])})),function(e){return o.apply(this,arguments)})},{key:"getCustomerData",value:(r=la(oa().m(function e(){var n,t,r,o,i,a,l=arguments;return oa().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:null,e.p=1,t=n||this.sessionId,r={action:"getData",sessionId:t},e.n=2,fetch(sa,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:if((o=e.v).ok){e.n=3;break}throw new Error("HTTP error! status: ".concat(o.status));case 3:return e.n=4,o.json();case 4:if(!(i=e.v).success||!i.data){e.n=5;break}return e.a(2,{success:!0,data:ta(ta({},i.data),{},{bins:i.data.orderDetails?JSON.parse(i.data.orderDetails):[],drawerDimensions:{width:i.data.drawerWidth,length:i.data.drawerLength,height:i.data.drawerHeight}})});case 5:return e.a(2,{success:!1,data:null});case 6:e.n=8;break;case 7:return e.p=7,a=e.v,console.error("Error retrieving customer data:",a),e.a(2,{success:!1,data:null});case 8:return e.a(2)}},e,this,[[1,7]])})),function(){return r.apply(this,arguments)})},{key:"uploadImage",value:(t=la(oa().m(function e(n){var t,r,o,i,a;return oa().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,this.fileToBase64(n);case 1:return t=e.v,r={action:"uploadImage",sessionId:this.sessionId,imageData:t,fileName:"".concat(this.sessionId,"_").concat(n.name),mimeType:n.type},e.n=2,fetch(sa,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:if((o=e.v).ok){e.n=3;break}throw new Error("HTTP error! status: ".concat(o.status));case 3:return e.n=4,o.json();case 4:if(!(i=e.v).success){e.n=5;break}return e.a(2,{success:!0,imageUrl:i.imageUrl,fileId:i.fileId});case 5:throw new Error(i.error||"Failed to upload image");case 6:e.n=8;break;case 7:throw e.p=7,a=e.v,console.error("Error uploading image:",a),a;case 8:return e.a(2)}},e,this,[[0,7]])})),function(e){return t.apply(this,arguments)})},{key:"fileToBase64",value:function(e){return new Promise(function(n,t){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){var e=r.result.split(",")[1];n(e)},r.onerror=function(e){return t(e)}})}},{key:"saveSessionToLocal",value:function(e){try{localStorage.setItem("drawerzen_session",JSON.stringify({sessionId:this.sessionId,data:e,timestamp:Date.now()}))}catch(e){console.error("Error saving session to localStorage:",e)}}},{key:"loadSessionFromLocal",value:function(){try{var e=localStorage.getItem("drawerzen_session");if(e){var n=JSON.parse(e);if(Date.now()-n.timestamp<864e5)return this.sessionId=n.sessionId,n.data;localStorage.removeItem("drawerzen_session")}return null}catch(e){return console.error("Error loading session from localStorage:",e),null}}},{key:"clearSession",value:function(){localStorage.removeItem("drawerzen_session"),this.sessionId=this.generateSessionId()}},{key:"getSessionId",value:function(){return this.sessionId}}],n&&ca(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,t,r,o,i}());function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}function ma(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function pa(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ma(Object(t),!0).forEach(function(n){ha(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ma(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ha(e,n,t){return(n=function(e){var n=function(e){if("object"!=fa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=fa(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fa(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ga(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return ba(u,"_invoke",function(t,r,o){var i,l,c,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return i=n,l=0,c=e,f.n=t,a}};function m(t,r){for(l=t,c=r,n=0;!d&&u&&!o&&n<s.length;n++){var o,i=s[n],m=f.p,p=i[2];t>3?(o=p===r)&&(c=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=m&&((o=t<2&&m<i[1])?(l=0,f.v=r,f.n=i[1]):m<p&&(o=t<3||i[0]>r||r>p)&&(i[4]=t,i[5]=r,f.n=p,l=0))}if(o||t>1)return a;throw d=!0,r}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),l=s,c=p;(n=l<2?e:c)||!d;){i||(l?l<3?(l>1&&(f.n=-1),m(l,c)):f.n=c:f.v=c);try{if(u=2,i){if(l||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,l<2&&(l=0)}else 1===l&&(n=i.return)&&n.call(i),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((n=(d=f.n<0)?c:t.call(r,f))!==a)break}catch(n){i=e,l=1,c=n}finally{u=1}}return{value:n,done:d}}}(t,o,i),!0),u}var a={};function l(){}function c(){}function u(){}n=Object.getPrototypeOf;var s=[][r]?n(n([][r]())):(ba(n={},r,function(){return this}),n),d=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,ba(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,ba(d,"constructor",u),ba(u,"constructor",c),c.displayName="GeneratorFunction",ba(u,o,"GeneratorFunction"),ba(d),ba(d,o,"Generator"),ba(d,r,function(){return this}),ba(d,"toString",function(){return"[object Generator]"}),(ga=function(){return{w:i,m:f}})()}function ba(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ba=function(e,n,t,r){if(n)o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t;else{var i=function(n,t){ba(e,n,function(e){return this._invoke(n,t,e)})};i("next",0),i("throw",1),i("return",2)}},ba(e,n,t,r)}function ya(e,n,t,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void t(e)}l.done?n(c):Promise.resolve(c).then(r,o)}function va(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){ya(i,r,o,a,l,"next",e)}function l(e){ya(i,r,o,a,l,"throw",e)}a(void 0)})}}function wa(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return xa(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xa(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var Ea,Sa;function Oa(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var ka=p.Ay.div(Ea||(Ea=Oa(["\n  min-height: 100vh;\n  background-color: #f5f5f5;\n  font-family: 'Inter', sans-serif;\n"]))),Aa=p.Ay.main(Sa||(Sa=Oa(["\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 2rem;\n  \n  /* Remove padding for layout page to allow full viewport usage */\n  &.layout-page {\n    padding: 0;\n    max-width: none;\n    margin: 0;\n  }\n  \n  @media (max-width: 768px) {\n    padding: 1rem;\n    \n    &.layout-page {\n      padding: 0;\n    }\n  }\n"])));function ja(e){var n=e.dataManager,t=(e.defaultBins,"/layout"===(0,m.zy)().pathname),r=n.appData,o=n.updateDrawerDimensions,i=n.updateLayoutConfig,a=n.updateOrderData;return s.createElement(Aa,{className:t?"layout-page":""},s.createElement(Qi,null,s.createElement(m.BV,null,s.createElement(m.qh,{path:"/",element:s.createElement(Ce,{onComplete:function(e){o(e)},initialDimensions:r.drawerDimensions,dataManager:n})}),s.createElement(m.qh,{path:"/layout",element:r.drawerDimensions?s.createElement(to,{drawerDimensions:r.drawerDimensions,availableBins:[],onLayoutComplete:function(e){i(e)},initialLayout:r.layoutConfig,dataManager:n}):s.createElement(m.C5,{to:"/"})}),s.createElement(m.qh,{path:"/review",element:r.layoutConfig?s.createElement(jo,{bins:r.layoutConfig,drawerDimensions:r.drawerDimensions,onProceedToCheckout:function(e){a(e)},dataManager:n}):s.createElement(m.C5,{to:"/layout"})}),s.createElement(m.qh,{path:"/checkout",element:r.orderData?s.createElement(Ai,{orderData:r.orderData,layoutConfig:r.layoutConfig,drawerDimensions:r.drawerDimensions,customerInfo:r.customerInfo,dataManager:n}):s.createElement(m.C5,{to:"/review"})}),s.createElement(m.qh,{path:"/order-success",element:s.createElement(Gi,null)}))))}const Ca=function(){var e=function(){var e=wa((0,s.useState)(!1),2),n=e[0],t=e[1],r=wa((0,s.useState)(null),2),o=r[0],i=r[1],a=wa((0,s.useState)(null),2),l=a[0],c=a[1],u=wa((0,s.useState)(!1),2),d=u[0],f=u[1],m=wa((0,s.useState)({customerInfo:{email:"",firstName:"",lastName:"",phone:"",address:"",apartment:"",city:"",state:"",zipCode:"",country:"US"},drawerDimensions:null,layoutConfig:null,orderData:null,uploadedImage:null}),2),p=m[0],h=m[1];(0,s.useEffect)(function(){y()},[]);var g,b,y=function(){var e=va(ga().m(function e(){var n,r,o,a,l,u,s,d;return ga().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t(!0),e.p=1,!(n=da.loadSessionFromLocal())){e.n=3;break}return h(n),c(da.getSessionId()),f(!0),e.n=2,da.getCustomerData();case 2:(r=e.v).success&&r.data&&(o=j(n,r.data),h(o),da.saveSessionToLocal(o)),e.n=5;break;case 3:if(a=new URLSearchParams(window.location.search),!(l=a.get("session"))){e.n=5;break}return e.n=4,da.getCustomerData(l);case 4:(u=e.v).success&&u.data&&(s=C(u.data),h(s),c(l),f(!0),da.saveSessionToLocal(s));case 5:e.n=7;break;case 6:e.p=6,d=e.v,console.error("Error initializing data:",d),i(d.message);case 7:return e.p=7,t(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),v=(0,s.useCallback)(function(e){h(function(n){var t=pa(pa({},n),{},{customerInfo:pa(pa({},n.customerInfo),e)});return da.saveSessionToLocal(t),d&&A(e),t})},[d]),w=(0,s.useCallback)(function(e){h(function(n){var t=pa(pa({},n),{},{drawerDimensions:e});return da.saveSessionToLocal(t),d&&A({drawerWidth:e.width,drawerLength:e.length,drawerHeight:e.height}),t})},[d]),x=(0,s.useCallback)(function(e){h(function(n){var t=pa(pa({},n),{},{layoutConfig:e});return da.saveSessionToLocal(t),d&&A({binCount:(null==e?void 0:e.length)||0,orderDetails:JSON.stringify(e)}),t})},[d]),E=(0,s.useCallback)(function(e){h(function(n){var t=pa(pa({},n),{},{orderData:e});return da.saveSessionToLocal(t),d&&A({totalPrice:e.total,status:"review"}),t})},[d]),S=(0,s.useCallback)(function(){var e=va(ga().m(function e(n){var r,o;return ga().w(function(e){for(;;)switch(e.p=e.n){case 0:return t(!0),e.p=1,e.n=2,da.uploadImage(n);case 2:if(!(r=e.v).success){e.n=4;break}if(h(function(e){var t=pa(pa({},e),{},{uploadedImage:{url:r.imageUrl,fileId:r.fileId,fileName:n.name}});return da.saveSessionToLocal(t),t}),!d){e.n=3;break}return e.n=3,da.updateCustomerData({imageUrl:r.imageUrl});case 3:return e.a(2,r);case 4:throw new Error("Failed to upload image");case 5:e.n=7;break;case 6:throw e.p=6,o=e.v,i(o.message),o;case 7:return e.p=7,t(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(n){return e.apply(this,arguments)}}(),[d]),O=(0,s.useCallback)(va(ga().m(function e(){var n,r,o,a,l,u;return ga().w(function(e){for(;;)switch(e.p=e.n){case 0:return t(!0),e.p=1,o=pa(pa({},p.customerInfo),{},{drawerDimensions:p.drawerDimensions,bins:p.layoutConfig,totalPrice:null===(n=p.orderData)||void 0===n?void 0:n.total,imageUrl:(null===(r=p.uploadedImage)||void 0===r?void 0:r.url)||""}),e.n=2,da.submitCustomerData(o);case 2:if(!(a=e.v).success){e.n=3;break}return c(a.sessionId),f(!0),(l=new URL(window.location)).searchParams.set("session",a.sessionId),window.history.replaceState({},"",l),e.a(2,a);case 3:throw new Error("Failed to submit data");case 4:e.n=6;break;case 5:throw e.p=5,u=e.v,i(u.message),u;case 6:return e.p=6,t(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])})),[p]),k=(0,s.useCallback)(function(){da.clearSession(),h({customerInfo:{email:"",firstName:"",lastName:"",phone:"",address:"",apartment:"",city:"",state:"",zipCode:"",country:"US"},drawerDimensions:null,layoutConfig:null,orderData:null,uploadedImage:null}),c(null),f(!1),i(null);var e=new URL(window.location);e.searchParams.delete("session"),window.history.replaceState({},"",e)},[]),A=(0,s.useCallback)((g=function(){var e=va(ga().m(function e(n){var t;return ga().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,da.updateCustomerData(n);case 1:e.n=3;break;case 2:e.p=2,t=e.v,console.error("Error updating server data:",t);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(n){return e.apply(this,arguments)}}(),function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];clearTimeout(b),b=setTimeout(function(){clearTimeout(b),g.apply(void 0,n)},1e3)}),[]),j=function(e,n){return pa(pa({},e),{},{customerInfo:{email:n.email||e.customerInfo.email,firstName:n.firstname||e.customerInfo.firstName,lastName:n.lastname||e.customerInfo.lastName,phone:n.phone||e.customerInfo.phone,address:n.address||e.customerInfo.address,apartment:n.apartment||e.customerInfo.apartment,city:n.city||e.customerInfo.city,state:n.state||e.customerInfo.state,zipCode:n.zipcode||e.customerInfo.zipCode,country:n.country||e.customerInfo.country},drawerDimensions:n.drawerwidth?{width:n.drawerwidth,length:n.drawerlength,height:n.drawerheight}:e.drawerDimensions,layoutConfig:n.orderdetails?JSON.parse(n.orderdetails):e.layoutConfig,orderData:n.totalprice?{total:n.totalprice}:e.orderData,uploadedImage:n.imageurl?{url:n.imageurl}:e.uploadedImage})},C=function(e){return{customerInfo:{email:e.email||"",firstName:e.firstname||"",lastName:e.lastname||"",phone:e.phone||"",address:e.address||"",apartment:e.apartment||"",city:e.city||"",state:e.state||"",zipCode:e.zipcode||"",country:e.country||"US"},drawerDimensions:e.drawerwidth?{width:e.drawerwidth,length:e.drawerlength,height:e.drawerheight}:null,layoutConfig:e.orderdetails?JSON.parse(e.orderdetails):null,orderData:e.totalprice?{total:e.totalprice}:null,uploadedImage:e.imageurl?{url:e.imageurl}:null}};return{appData:p,isLoading:n,error:o,sessionId:l,hasSubmitted:d,updateCustomerInfo:v,updateDrawerDimensions:w,updateLayoutConfig:x,updateOrderData:E,uploadImage:S,submitAllData:O,clearAllData:k,setError:function(e){return i(e)}}}();return s.createElement(h.Q,{backend:g.t2},s.createElement(f.Kd,null,s.createElement(ka,null,s.createElement(V,null),s.createElement(ja,{dataManager:e,defaultBins:[{id:1,label:"Small Square",width:42,length:42,color:"#3b82f6"},{id:2,label:"Small Rectangle",width:63,length:42,color:"#10b981"},{id:3,label:"Medium Square",width:63,length:63,color:"#f59e0b"},{id:4,label:"Medium Rectangle",width:84,length:42,color:"#ef4444"},{id:5,label:"Large Square",width:84,length:84,color:"#8b5cf6"},{id:6,label:"Large Rectangle",width:105,length:63,color:"#ec4899"},{id:7,label:"Wide Rectangle",width:126,length:42,color:"#14b8a6"},{id:8,label:"Extra Large",width:105,length:84,color:"#f97316"}]}))))};var Da=t(5072),Pa=t.n(Da),za=t(7825),Ia=t.n(za),Ma=t(7659),Ba=t.n(Ma),Ta=t(5056),Na=t.n(Ta),Fa=t(540),Ra=t.n(Fa),La=t(1113),_a=t.n(La),Ua=t(1208),Ga={};Ga.styleTagTransform=_a(),Ga.setAttributes=Na(),Ga.insert=Ba().bind(null,"head"),Ga.domAPI=Ia(),Ga.insertStyleElement=Ra(),Pa()(Ua.A,Ga),Ua.A&&Ua.A.locals&&Ua.A.locals,d.createRoot(document.getElementById("root")).render(s.createElement(s.StrictMode,null,s.createElement(Ca,null)))}},o={};function i(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={id:e,exports:{}};return r[e](t,t.exports,i),t.exports}i.m=r,e=[],i.O=(n,t,r,o)=>{if(!t){var a=1/0;for(s=0;s<e.length;s++){for(var[t,r,o]=e[s],l=!0,c=0;c<t.length;c++)(!1&o||a>=o)&&Object.keys(i.O).every(e=>i.O[e](t[c]))?t.splice(c--,1):(l=!1,o<a&&(a=o));if(l){e.splice(s--,1);var u=r();void 0!==u&&(n=u)}}return n}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[t,r,o]},i.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return i.d(n,{a:n}),n},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);i.r(o);var a={};n=n||[null,t({}),t([]),t(t)];for(var l=2&r&&e;("object"==typeof l||"function"==typeof l)&&!~n.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(n=>a[n]=()=>e[n]);return a.default=()=>e,i.d(o,a),o},i.d=(e,n)=>{for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},i.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};i.O.j=n=>0===e[n];var n=(n,t)=>{var r,o,[a,l,c]=t,u=0;if(a.some(n=>0!==e[n])){for(r in l)i.o(l,r)&&(i.m[r]=l[r]);if(c)var s=c(i)}for(n&&n(t);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(s)},t=self.webpackChunkdrawerzen_app=self.webpackChunkdrawerzen_app||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),i.nc=void 0;var a=i.O(void 0,[96],()=>i(1633));a=i.O(a)})();